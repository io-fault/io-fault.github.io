<html root="2"><head><title>fault.web.agent</title><meta charset="utf-8"/><link as="style" rel="preload" href="../../.legacy-web/core.css"></link><link as="style" rel="preload" href="../../.legacy-web/factor.css"></link><link rel="stylesheet" href="../../.legacy-web/core.css"></link><link rel="stylesheet" href="../../.legacy-web/factor.css"></link></head><body><main><h1><span class="prefix"></span><div class="page-subject"><img class="icon" src="../../.factor-type-icon/if.fault.io/python-module.svg"></img><span class="subject-identifier">agent</span><a href="http://if.fault.io/factors/python.module"><code class="type">python.module</code></a></div><div class="page-context"><a href="../"><img class="icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTYiIGhlaWdodD0iMjU2Ij48dGV4dCB4PSI0IiB5PSIwLjg4ZW0iIGZvbnQtc2l6ZT0iMjQ4Ij7wn5W4PC90ZXh0Pjwvc3ZnPg=="></img></a><span class="context-identifier">fault.web</span></div></h1><section class="chapter"><p><span class="text.normal">Client projection dispatch management.</span></p><p><span class="text.normal">Provides Contexts for managing a client's sessions.</span></p></section><section class="unspecified" documented="true" local-identifier="Engineering" id="Engineering"><h1><span class="prefix"></span><a class="title" href="#Engineering"><span class="text.normal">Engineering</span></a><span class="abstract-type"></span></h1><p><span class="text.normal">Agents are fairly complicated with respect to preferences. The current</span><span class="text.line-break"> </span><span class="text.normal">implementation presumes </span><code class="internet.protocol">HTTP/1.1</code><span class="text.normal"> in most cases where a protocol priority should</span><span class="text.line-break"> </span><span class="text.normal">be used to select a desired wire protocol.</span></p><p><a class="factor-local" href="#Navigation"><span class="class">Navigation</span></a><span class="text.normal"> and </span><a class="factor-local" href="#Session"><span class="class">Session</span></a><span class="text.normal"> are essentially unimplemented. Finding a generic structure</span><span class="text.line-break"> </span><span class="text.normal">that fits all use cases is unlikely; however, the direction of a traditional user agent</span><span class="text.line-break"> </span><span class="text.normal">model should be sufficient in most cases.</span></p></section><section class="import" documented="false" local-identifier="typing" id="typing"><h1><span class="prefix"></span><a class="title" href="#typing"><span class="text.normal">typing</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="weakref" id="weakref"><h1><span class="prefix"></span><a class="title" href="#weakref"><span class="text.normal">weakref</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="core" id="core"><h1><span class="prefix"></span><a class="title" href="#core"><span class="text.normal">core</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="flows" id="flows"><h1><span class="prefix"></span><a class="title" href="#flows"><span class="text.normal">flows</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="io" id="io"><h1><span class="prefix"></span><a class="title" href="#io"><span class="text.normal">io</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="http" id="http"><h1><span class="prefix"></span><a class="title" href="#http"><span class="text.normal">http</span></a><span class="abstract-type">import</span></h1></section><section class="function" documented="false" local-identifier="_prepare_http_transports_v0" id="_prepare_http_transports_v0"><h1><span class="prefix"></span><a class="title" href="#_prepare_http_transports_v0"><span class="text.normal">_prepare_http_transports_v0</span></a><span class="abstract-type">function</span></h1><p><code class="signature">_prepare_http_transports_v0(ifctx, ports)</code></p></section><section class="function" documented="false" local-identifier="_prepare_http_transports_v1" id="_prepare_http_transports_v1"><h1><span class="prefix"></span><a class="title" href="#_prepare_http_transports_v1"><span class="text.normal">_prepare_http_transports_v1</span></a><span class="abstract-type">function</span></h1><p><code class="signature">_prepare_http_transports_v1(ifctx, ports)</code></p></section><section class="function" documented="false" local-identifier="_prepare_http_transports_v2" id="_prepare_http_transports_v2"><h1><span class="prefix"></span><a class="title" href="#_prepare_http_transports_v2"><span class="text.normal">_prepare_http_transports_v2</span></a><span class="abstract-type">function</span></h1><p><code class="signature">_prepare_http_transports_v2(ifctx, ports)</code></p></section><section class="data" documented="false" local-identifier="protocols" id="protocols"><h1><span class="prefix"></span><a class="title" href="#protocols"><span class="text.normal">protocols</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">protocols = {
	'http': _prepare_http_transports_v0, # Adjustable.
	'http-1': _prepare_http_transports_v1, # Strictly 1.0/1.1 only.
	'http-2': _prepare_http_transports_v2, # Not implemented
}
</code></pre></section><section class="class" documented="true" local-identifier="Controller" id="Controller"><h1><span class="prefix"></span><a class="title" href="#Controller"><span class="text.normal">Controller</span></a><span class="abstract-type">class</span></h1><div class="inheritance"><code class="type"><a class="invalid" href="#object"><span class="unknown">object</span></a></code></div><p><span class="text.normal">Request execution controller for HTTP agents.</span></p><section class="unspecified" documented="true" local-identifier="Properties" id="Controller.Properties"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.Properties"><span class="text.normal">Properties</span></a><span class="abstract-type"></span></h1><dl class="text.mapping"><div id="Controller.Properties.http_response" documented="true"><dt><a class="dkn" href="#Controller.Properties.http_response"></a><span class="directory-key"><span class="text.normal">http_response</span></span></dt><dd><div class="status"></div><p><span class="text.normal">The </span><a class="project-local" href="../http#Structures"><span class="unknown">http.Structures</span></a><span class="text.normal"> instance representing the response status and headers.</span></p></dd></div></dl></section><section class="data" documented="false" local-identifier="http_response" id="Controller.http_response"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.http_response"><span class="text.normal">http_response</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">http_response = None
	@property
</code></pre></section><section class="property" documented="false" local-identifier="transport" id="Controller.transport"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.transport"><span class="text.normal">transport</span></a><span class="abstract-type">property</span><code class="type"><a class="context-local" href="../../kernel/io#Transport"><span class="factor-element">io.Transport</span></a></code></h1></section><section class="method" documented="false" local-identifier="__init__" id="Controller.__init__"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.__init__"><span class="text.normal">__init__</span></a><span class="abstract-type">method</span></h1><p><code class="signature">__init__(self, invocations, channel_id, connect_output)</code></p></section><section class="method" documented="false" local-identifier="_correlation" id="Controller._correlation"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller._correlation"><span class="text.normal">_correlation</span></a><span class="abstract-type">method</span></h1><p><code class="signature">_correlation(self, channel_id, parameters, connect_input)</code></p></section><section class="method" documented="true" local-identifier="http_add_header" id="Controller.http_add_header"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.http_add_header"><span class="text.normal">http_add_header</span></a><span class="abstract-type">method</span></h1><p><code class="signature">http_add_header(self, key, value)</code></p><p><span class="text.normal">Append a single header to the header sequence that will be supplied by the response.</span></p></section><section class="data" documented="false" local-identifier="add_header" id="Controller.add_header"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.add_header"><span class="text.normal">add_header</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">add_header = http_add_header
</code></pre></section><section class="method" documented="true" local-identifier="http_extend_headers" id="Controller.http_extend_headers"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.http_extend_headers"><span class="text.normal">http_extend_headers</span></a><span class="abstract-type">method</span></h1><p><code class="signature">http_extend_headers(self, pairs)</code></p><p><span class="text.normal">Add a sequence of headers.</span></p></section><section class="data" documented="false" local-identifier="extend_headers" id="Controller.extend_headers"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.extend_headers"><span class="text.normal">extend_headers</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">extend_headers = http_extend_headers
</code></pre></section><section class="method" documented="true" local-identifier="http_set_request" id="Controller.http_set_request"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.http_set_request"><span class="text.normal">http_set_request</span></a><span class="abstract-type">method</span></h1><p><code class="signature">http_set_request(self, method, uri, length)</code></p><p><span class="text.normal">Assign the method and URI of the request and designate the transfer encoding.</span><span class="text.line-break"> </span><span class="text.normal">Excepting </span><a class="factor-local" href="#Controller.http_set_request.Parameters.length"><span class="parameter">length</span></a><span class="text.normal">, all parameters </span><span class="text.emphasis">must</span><span class="text.normal"> be </span><a class="invalid" href="#bytes"><span class="unknown">bytes</span></a><span class="text.normal"> instances.</span></p><p><span class="text.normal">If </span><a class="factor-local" href="#Controller.http_set_request.Parameters.cotype"><span class="parameter">cotype</span></a><span class="text.normal"> is </span><a class="invalid" href="#None"><span class="unknown">None</span></a><span class="text.normal">, neither </span><code class="http.header">Content-Length</code><span class="text.normal"> nor</span><span class="text.line-break"> </span><code class="http.header">Transfer-Encoding</code><span class="text.normal"> will be appended to the headers.</span></p><p><span class="text.normal">If </span><a class="factor-local" href="#Controller.http_set_request.Parameters.cotype"><span class="parameter">cotype</span></a><span class="text.normal"> is not </span><a class="invalid" href="#None"><span class="unknown">None</span></a><span class="text.normal"> and </span><a class="factor-local" href="#Controller.http_set_request.Parameters.length"><span class="parameter">length</span></a><span class="text.normal"> is </span><a class="invalid" href="#None"><span class="unknown">None</span></a><span class="text.normal">, chunked transfer encoding will be used.</span><span class="text.line-break"> </span><span class="text.normal">If </span><a class="factor-local" href="#Controller.http_set_request.Parameters.cotype"><span class="parameter">cotype</span></a><span class="text.normal"> is not </span><a class="invalid" href="#None"><span class="unknown">None</span></a><span class="text.normal"> and </span><a class="factor-local" href="#Controller.http_set_request.Parameters.length"><span class="parameter">length</span></a><span class="text.normal"> is an integer, </span><code class="http.header">Content-Length</code><span class="text.line-break"> </span><span class="text.normal">will be provided.</span></p></section><section class="data" documented="false" local-identifier="set_request" id="Controller.set_request"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.set_request"><span class="text.normal">set_request</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">set_request = http_set_request
</code></pre></section><section class="method" documented="true" local-identifier="connect" id="Controller.connect"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.connect"><span class="text.normal">connect</span></a><span class="abstract-type">method</span></h1><p><code class="signature">connect(self, channel)</code></p><p><span class="text.normal">Initiate the request causing headers to be sent and connect the </span><a class="factor-local" href="#Controller.connect.Parameters.channel"><span class="parameter">channel</span></a><span class="text.normal"> as the</span><span class="text.line-break"> </span><span class="text.normal">HTTP request's entity body. If </span><a class="factor-local" href="#Controller.connect.Parameters.channel"><span class="parameter">channel</span></a><span class="text.normal"> is </span><a class="invalid" href="#None"><span class="unknown">None</span></a><span class="text.normal">, no entity body will be supplied.</span></p></section><section class="method" documented="true" local-identifier="accept" id="Controller.accept"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.accept"><span class="text.normal">accept</span></a><span class="abstract-type">method</span></h1><p><code class="signature">accept(self, channel)</code></p><p><span class="text.normal">Accept the entity-body of the response into </span><a class="factor-local" href="#Controller.accept.Parameters.channel"><span class="parameter">channel</span></a><span class="text.normal">.</span><span class="text.line-break"> </span><span class="text.normal">If </span><a class="factor-local" href="#Controller.accept.Parameters.channel"><span class="parameter">channel</span></a><span class="text.normal"> is </span><a class="invalid" href="#None"><span class="unknown">None</span></a><span class="text.normal">, any entity body sent will trigger a fault.</span></p></section><section class="method" documented="true" local-identifier="_http_content_headers" id="Controller._http_content_headers"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller._http_content_headers"><span class="text.normal">_http_content_headers</span></a><span class="abstract-type">method</span></h1><p><code class="signature">_http_content_headers(self, cotype, length)</code></p><p><span class="text.normal">Define the type and length of the entity body to be sent.</span></p></section><section class="method" documented="true" local-identifier="http_dispatch_output" id="Controller.http_dispatch_output"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.http_dispatch_output"><span class="text.normal">http_dispatch_output</span></a><span class="abstract-type">method</span></h1><p><code class="signature">http_dispatch_output(self, channel)</code></p><p><span class="text.normal">Dispatch the given </span><a class="factor-local" href="#Controller.http_dispatch_output.Parameters.channel"><span class="parameter">channel</span></a><span class="text.normal"> using a new </span><a class="context-local" href="../../kernel/io#Transfer"><span class="factor-element">fault.kernel.io.Transfer</span></a><span class="text.normal"> instance into </span><a class="invalid" href="#invocations'"><span class="unknown">invocations'</span></a><span class="text.line-break"> </span><a class="context-local" href="../../kernel/io#Transport"><span class="factor-element">fault.kernel.io.Transport</span></a><span class="text.normal"> transaction.</span></p></section><section class="method" documented="true" local-identifier="http_iterate_output" id="Controller.http_iterate_output"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.http_iterate_output"><span class="text.normal">http_iterate_output</span></a><span class="abstract-type">method</span></h1><p><code class="signature">http_iterate_output(self, iterator)</code></p><p><span class="text.normal">Construct a Flow consisting of a single </span><a class="context-local" href="../../kernel/flows#Iterate"><span class="factor-element">fault.kernel.flows.Iterate</span></a><span class="text.normal"> instance</span><span class="text.line-break"> </span><span class="text.normal">used to stream output to the connection protocol state.</span></p><p><span class="text.normal">The </span><a class="context-local" href="../../kernel/io#Transfer"><span class="factor-element">fault.kernel.io.Transfer</span></a><span class="text.normal"> transaction will be dispatched into the </span><a class="context-local" href="../../kernel/io#Transport"><span class="factor-element">fault.kernel.io.Transport</span></a><span class="text.line-break"> </span><span class="text.normal">supporting the connection to the remote peer.</span></p></section><section class="method" documented="true" local-identifier="http_put_data" id="Controller.http_put_data"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.http_put_data"><span class="text.normal">http_put_data</span></a><span class="abstract-type">method</span></h1><p><code class="signature">http_put_data(self, uri, cotype, data)</code></p><p><span class="text.normal">Send the given </span><a class="factor-local" href="#Controller.http_put_data.Parameters.data"><span class="parameter">data</span></a><span class="text.normal"> to the remote end with the given content type, </span><a class="factor-local" href="#Controller.http_put_data.Parameters.cotype"><span class="parameter">cotype</span></a><span class="text.normal">.</span><span class="text.line-break"> </span><span class="text.normal">If other headers are desired, they </span><span class="text.emphasis">must</span><span class="text.normal"> be configured before running</span><span class="text.line-break"> </span><span class="text.normal">this method.</span></p></section><section class="method" documented="true" local-identifier="http_read_input_into_buffer" id="Controller.http_read_input_into_buffer"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.http_read_input_into_buffer"><span class="text.normal">http_read_input_into_buffer</span></a><span class="abstract-type">method</span></h1><p><code class="signature">http_read_input_into_buffer(self, callback, *args)</code></p><p><span class="text.normal">Connect the input to a buffer that executes</span><span class="text.line-break"> </span><span class="text.normal">the given callback when the entity body has been transferred.</span></p></section><section class="method" documented="true" local-identifier="http_read_input_into_file" id="Controller.http_read_input_into_file"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.http_read_input_into_file"><span class="text.normal">http_read_input_into_file</span></a><span class="abstract-type">method</span></h1><p><code class="signature">http_read_input_into_file(self, path)</code></p><p><span class="text.normal">Connect the input to a buffer that executes</span><span class="text.line-break"> </span><span class="text.normal">the given callback when the entity body has been transferred.</span></p></section><section class="method" documented="true" local-identifier="http_ignore_input" id="Controller.http_ignore_input"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.http_ignore_input"><span class="text.normal">http_ignore_input</span></a><span class="abstract-type">method</span></h1><p><code class="signature">http_ignore_input(self)</code></p><p><span class="text.normal">Connect the given input to a transfer that discards events.</span></p></section></section><section class="class" documented="true" local-identifier="Session" id="Session"><h1><span class="prefix"></span><a class="title" href="#Session"><span class="text.normal">Session</span></a><span class="abstract-type">class</span></h1><div class="inheritance"><code class="type"><a class="context-local" href="../../kernel/core#Context"><span class="factor-element">core.Context</span></a></code></div><p><span class="text.normal">Session dispatching invocation projections for facilitating a request.</span></p><section class="method" documented="false" local-identifier="__init__" id="Session.__init__"><h1><span class="prefix"></span><a class="section" href="#Session">Session</a><a class="title" href="#Session.__init__"><span class="text.normal">__init__</span></a><span class="abstract-type">method</span></h1><p><code class="signature">__init__(self)</code></p></section><section class="method" documented="false" local-identifier="s_correlate" id="Session.s_correlate"><h1><span class="prefix"></span><a class="section" href="#Session">Session</a><a class="title" href="#Session.s_correlate"><span class="text.normal">s_correlate</span></a><span class="abstract-type">method</span></h1><p><code class="signature">s_correlate(self, inv)</code></p></section><section class="method" documented="false" local-identifier="xact_exit" id="Session.xact_exit"><h1><span class="prefix"></span><a class="section" href="#Session">Session</a><a class="title" href="#Session.xact_exit"><span class="text.normal">xact_exit</span></a><span class="abstract-type">method</span></h1><p><code class="signature">xact_exit(self, xact)</code></p></section><section class="method" documented="false" local-identifier="actuate" id="Session.actuate"><h1><span class="prefix"></span><a class="section" href="#Session">Session</a><a class="title" href="#Session.actuate"><span class="text.normal">actuate</span></a><span class="abstract-type">method</span></h1><p><code class="signature">actuate(self)</code></p></section></section><section class="class" documented="true" local-identifier="Navigation" id="Navigation"><h1><span class="prefix"></span><a class="title" href="#Navigation"><span class="text.normal">Navigation</span></a><span class="abstract-type">class</span></h1><div class="inheritance"><code class="type"><a class="context-local" href="../../kernel/core#Context"><span class="factor-element">core.Context</span></a></code></div><p><span class="text.normal">Root agent context managing global headers, connection strategy cache, and host state.</span></p><section class="method" documented="false" local-identifier="__init__" id="Navigation.__init__"><h1><span class="prefix"></span><a class="section" href="#Navigation">Navigation</a><a class="title" href="#Navigation.__init__"><span class="text.normal">__init__</span></a><span class="abstract-type">method</span></h1><p><code class="signature">__init__(self)</code></p></section><section class="method" documented="true" local-identifier="nav_connect" id="Navigation.nav_connect"><h1><span class="prefix"></span><a class="section" href="#Navigation">Navigation</a><a class="title" href="#Navigation.nav_connect"><span class="text.normal">nav_connect</span></a><span class="abstract-type">method</span></h1><p><code class="signature">nav_connect(self, endpoint)</code></p><p><span class="text.normal">Allocate transport communicating with </span><a class="factor-local" href="#Navigation.nav_connect.Parameters.endpoint"><span class="parameter">endpoint</span></a><span class="text.normal"> with respect to the navigation's</span><span class="text.line-break"> </span><span class="text.normal">perspective.</span></p></section><section class="method" documented="false" local-identifier="nav_route" id="Navigation.nav_route"><h1><span class="prefix"></span><a class="section" href="#Navigation">Navigation</a><a class="title" href="#Navigation.nav_route"><span class="text.normal">nav_route</span></a><span class="abstract-type">method</span></h1><p><code class="signature">nav_route(self, io)</code></p></section><section class="method" documented="false" local-identifier="nav_open_session" id="Navigation.nav_open_session"><h1><span class="prefix"></span><a class="section" href="#Navigation">Navigation</a><a class="title" href="#Navigation.nav_open_session"><span class="text.normal">nav_open_session</span></a><span class="abstract-type">method</span></h1><p><code class="signature">nav_open_session(self, session)</code></p></section><section class="method" documented="false" local-identifier="nav_close_session" id="Navigation.nav_close_session"><h1><span class="prefix"></span><a class="section" href="#Navigation">Navigation</a><a class="title" href="#Navigation.nav_close_session"><span class="text.normal">nav_close_session</span></a><span class="abstract-type">method</span></h1><p><code class="signature">nav_close_session(self, sid)</code></p></section><section class="method" documented="false" local-identifier="actuate" id="Navigation.actuate"><h1><span class="prefix"></span><a class="section" href="#Navigation">Navigation</a><a class="title" href="#Navigation.actuate"><span class="text.normal">actuate</span></a><span class="abstract-type">method</span></h1><p><code class="signature">actuate(self)</code></p></section><section class="method" documented="false" local-identifier="xact_void" id="Navigation.xact_void"><h1><span class="prefix"></span><a class="section" href="#Navigation">Navigation</a><a class="title" href="#Navigation.xact_void"><span class="text.normal">xact_void</span></a><span class="abstract-type">method</span></h1><p><code class="signature">xact_void(self, final)</code></p></section></section><section class="class" documented="true" local-identifier="RInvocation" id="RInvocation"><h1><span class="prefix"></span><a class="title" href="#RInvocation"><span class="text.normal">RInvocation</span></a><span class="abstract-type">class</span></h1><div class="inheritance"><code class="type"><a class="invalid" href="#object"><span class="unknown">object</span></a></code></div><p><span class="text.normal">An HTTP request received by a service and its determined response headers and status.</span></p><p><span class="text.normal">The parameters should store exact bytes instances that were read by the transport.</span><span class="text.line-break"> </span><span class="text.normal">Higher-level interfaces, </span><a class="project-local" href="../http#Structures"><span class="unknown">http.Structures</span></a><span class="text.normal">, should often decode these field accordingly.</span></p><section class="unspecified" documented="true" local-identifier="Properties" id="RInvocation.Properties"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#RInvocation">RInvocation</a><a class="title" href="#RInvocation.Properties"><span class="text.normal">Properties</span></a><span class="abstract-type"></span></h1><dl class="text.mapping"><div id="RInvocation.Properties.headers" documented="true"><dt><a class="dkn" href="#RInvocation.Properties.headers"></a><span class="directory-key"><span class="text.normal">headers</span></span></dt><dd><div class="status"></div><p><span class="text.normal">The sequence of headers held by the parameters of the request.</span></p></dd></div><div id="RInvocation.Properties.method" documented="true"><dt><a class="dkn" href="#RInvocation.Properties.method"></a><span class="directory-key"><span class="text.normal">method</span></span></dt><dd><div class="status"></div><p><span class="text.normal">The request method held by the parameters.</span></p></dd></div><div id="RInvocation.Properties.path" documented="true"><dt><a class="dkn" href="#RInvocation.Properties.path"></a><span class="directory-key"><span class="text.normal">path</span></span></dt><dd><div class="status"></div><p><span class="text.normal">The request URI held by the parameters.</span></p></dd></div></dl></section><section class="data" documented="false" local-identifier="projection" id="RInvocation.projection"><h1><span class="prefix"></span><a class="section" href="#RInvocation">RInvocation</a><a class="title" href="#RInvocation.projection"><span class="text.normal">projection</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">projection = True
</code></pre></section><section class="data" documented="false" local-identifier="context" id="RInvocation.context"><h1><span class="prefix"></span><a class="section" href="#RInvocation">RInvocation</a><a class="title" href="#RInvocation.context"><span class="text.normal">context</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">context = None
	@property
</code></pre></section><section class="property" documented="false" local-identifier="headers" id="RInvocation.headers"><h1><span class="prefix"></span><a class="section" href="#RInvocation">RInvocation</a><a class="title" href="#RInvocation.headers"><span class="text.normal">headers</span></a><span class="abstract-type">property</span><code class="type"><a class="project-local" href="../http#HeaderSequence"><span class="factor-element">http.HeaderSequence</span></a></code></h1></section><section class="property" documented="true" local-identifier="method" id="RInvocation.method"><h1><span class="prefix"></span><a class="section" href="#RInvocation">RInvocation</a><a class="title" href="#RInvocation.method"><span class="text.normal">method</span></a><span class="abstract-type">property</span><code class="type"><a class="invalid" href="#str"><span class="unknown">str</span></a></code></h1><p><span class="text.normal">Decoded form of the request's method.</span></p></section><section class="property" documented="true" local-identifier="path" id="RInvocation.path"><h1><span class="prefix"></span><a class="section" href="#RInvocation">RInvocation</a><a class="title" href="#RInvocation.path"><span class="text.normal">path</span></a><span class="abstract-type">property</span><code class="type"><a class="invalid" href="#str"><span class="unknown">str</span></a></code></h1><p><span class="text.normal">Decoded form of the request URI's path.</span></p></section><section class="method" documented="false" local-identifier="declare_output_length" id="RInvocation.declare_output_length"><h1><span class="prefix"></span><a class="section" href="#RInvocation">RInvocation</a><a class="title" href="#RInvocation.declare_output_length"><span class="text.normal">declare_output_length</span></a><span class="abstract-type">method</span></h1><p><code class="signature">declare_output_length(self, length)</code></p></section><section class="method" documented="false" local-identifier="declare_output_chunked" id="RInvocation.declare_output_chunked"><h1><span class="prefix"></span><a class="section" href="#RInvocation">RInvocation</a><a class="title" href="#RInvocation.declare_output_chunked"><span class="text.normal">declare_output_chunked</span></a><span class="abstract-type">method</span></h1><p><code class="signature">declare_output_chunked(self)</code></p></section><section class="method" documented="false" local-identifier="__init__" id="RInvocation.__init__"><h1><span class="prefix"></span><a class="section" href="#RInvocation">RInvocation</a><a class="title" href="#RInvocation.__init__"><span class="text.normal">__init__</span></a><span class="abstract-type">method</span></h1><p><code class="signature">__init__(self, exit_method, method, path, headers)</code></p></section><section class="method" documented="false" local-identifier="__str__" id="RInvocation.__str__"><h1><span class="prefix"></span><a class="section" href="#RInvocation">RInvocation</a><a class="title" href="#RInvocation.__str__"><span class="text.normal">__str__</span></a><span class="abstract-type">method</span></h1><p><code class="signature">__str__(self)</code></p></section><section class="classmethod" documented="true" local-identifier="from_request" id="RInvocation.from_request"><h1><span class="prefix"></span><a class="section" href="#RInvocation">RInvocation</a><a class="title" href="#RInvocation.from_request"><span class="text.normal">from_request</span></a><span class="abstract-type">classmethod</span></h1><p><code class="signature">from_request(Class, rline, headers)</code></p><p><span class="text.normal">Initialize an Invocation using a parsed request line and headers.</span><span class="text.line-break"> </span><span class="text.normal">Primarily, this is used by </span><a class="invalid" href="#fork"><span class="unknown">fork</span></a><span class="text.normal"> in a server context.</span></p></section></section><h1 class="footing"></h1></main></body></html>