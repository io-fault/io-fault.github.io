<html root="2"><head><title>fault.web.service</title><meta charset="utf-8"/><link as="style" rel="preload" href="../../.legacy-web/core.css"></link><link as="style" rel="preload" href="../../.legacy-web/factor.css"></link><link rel="stylesheet" href="../../.legacy-web/core.css"></link><link rel="stylesheet" href="../../.legacy-web/factor.css"></link></head><body><main><h1><span class="prefix"></span><div class="page-subject"><img class="icon" src="../../.factor-type-icon/if.fault.io/python-module.svg"></img><span class="subject-identifier">service</span><span class="element-status"><span class="nothing-missed">0</span></span><a href="http://if.fault.io/factors/python.module"><code class="type">python.module</code></a></div><div class="page-context"><a href="../"><img class="icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTYiIGhlaWdodD0iMjU2Ij48dGV4dCB4PSI0IiB5PSIwLjg4ZW0iIGZvbnQtc2l6ZT0iMjQ4Ij7wn5W4PC90ZXh0Pjwvc3ZnPg=="></img></a><span class="context-identifier">fault.web</span></div></h1><section class="chapter"><p><span class="text.normal">Service contexts for accepting HTTP requests.</span></p></section><section class="import" documented="false" local-identifier="functools" id="functools"><h1><span class="prefix"></span><a class="title" href="#functools"><span class="text.normal">functools</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="typing" id="typing"><h1><span class="prefix"></span><a class="title" href="#typing"><span class="text.normal">typing</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="weakref" id="weakref"><h1><span class="prefix"></span><a class="title" href="#weakref"><span class="text.normal">weakref</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="match" id="match"><h1><span class="prefix"></span><a class="title" href="#match"><span class="text.normal">match</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="core" id="core"><h1><span class="prefix"></span><a class="title" href="#core"><span class="text.normal">core</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="flows" id="flows"><h1><span class="prefix"></span><a class="title" href="#flows"><span class="text.normal">flows</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="io" id="io"><h1><span class="prefix"></span><a class="title" href="#io"><span class="text.normal">io</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="ri" id="ri"><h1><span class="prefix"></span><a class="title" href="#ri"><span class="text.normal">ri</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="http" id="http"><h1><span class="prefix"></span><a class="title" href="#http"><span class="text.normal">http</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="function" documented="false" local-identifier="_prepare_http_transports_v0" id="_prepare_http_transports_v0"><h1><span class="prefix"></span><a class="title" href="#_prepare_http_transports_v0"><span class="text.normal">_prepare_http_transports_v0</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div></h1><p><code class="signature">_prepare_http_transports_v0(ifctx, ports)</code></p></section><section class="function" documented="false" local-identifier="_prepare_http_transports_v1" id="_prepare_http_transports_v1"><h1><span class="prefix"></span><a class="title" href="#_prepare_http_transports_v1"><span class="text.normal">_prepare_http_transports_v1</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div></h1><p><code class="signature">_prepare_http_transports_v1(ifctx, ports)</code></p></section><section class="function" documented="false" local-identifier="_prepare_http_transports_v2" id="_prepare_http_transports_v2"><h1><span class="prefix"></span><a class="title" href="#_prepare_http_transports_v2"><span class="text.normal">_prepare_http_transports_v2</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div></h1><p><code class="signature">_prepare_http_transports_v2(ifctx, ports)</code></p></section><section class="data" documented="false" local-identifier="protocols" id="protocols"><h1><span class="prefix"></span><a class="title" href="#protocols"><span class="text.normal">protocols</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">protocols = {
	'http': _prepare_http_transports_v0, # Adjustable.
	'http-1': _prepare_http_transports_v1, # Strictly 1.0/1.1 only.
	'http-2': _prepare_http_transports_v2, # Not implemented
}
</code></pre></section><section class="class" documented="true" local-identifier="Controller" id="Controller"><h1><span class="prefix"></span><a class="title" href="#Controller"><span class="text.normal">Controller</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">class</span></div></h1><div class="inheritance"><code class="type"><a class="invalid" href="#object"><span class="unknown">object</span></a></code></div><p><span class="text.normal">Request execution controller for HTTP services.</span></p><section class="property" documented="false" local-identifier="transport" id="Controller.transport"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.transport"><span class="text.normal">transport</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">property</span></div><code class="type"><a class="context-local" href="../../kernel/io#Transport"><span class="factor-element">io.Transport</span></a></code></h1></section><section class="classmethod" documented="false" local-identifier="from_accept" id="Controller.from_accept"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.from_accept"><span class="text.normal">from_accept</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">classmethod</span></div></h1><p><code class="signature">from_accept(Class, invp, pair)</code></p></section><section class="method" documented="false" local-identifier="__init__" id="Controller.__init__"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.__init__"><span class="text.normal">__init__</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">__init__(self, invocations, request, connect_output, connect_input, channel_id)</code></p></section><section class="method" documented="true" local-identifier="connect" id="Controller.connect"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.connect"><span class="text.normal">connect</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div><code class="type">None</code></h1><p><code class="signature">connect(self, channel)</code></p><p><span class="text.normal">Initiate the response causing headers to be sent and connect the </span><a class="factor-local" href="#Controller.connect.Parameters.channel"><span class="parameter">channel</span></a><span class="text.normal"> as the</span><span class="text.line-break"> </span><span class="text.normal">HTTP response entity body. If </span><a class="factor-local" href="#Controller.connect.Parameters.channel"><span class="parameter">channel</span></a><span class="text.normal"> is </span><a class="invalid" href="#None"><span class="unknown">None</span></a><span class="text.normal">, no entity body will be supplied.</span></p></section><section class="method" documented="true" local-identifier="accept" id="Controller.accept"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.accept"><span class="text.normal">accept</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">accept(self, channel)</code></p><p><span class="text.normal">Connect entity body of the request to the given </span><a class="factor-local" href="#Controller.accept.Parameters.channel"><span class="parameter">channel</span></a><span class="text.normal">.</span><span class="text.line-break"> </span><span class="text.normal">If </span><a class="factor-local" href="#Controller.accept.Parameters.channel"><span class="parameter">channel</span></a><span class="text.normal"> is </span><a class="invalid" href="#None"><span class="unknown">None</span></a><span class="text.normal">, any entity body sent will trigger a fault.</span></p></section><section class="method" documented="true" local-identifier="http_add_header" id="Controller.http_add_header"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.http_add_header"><span class="text.normal">http_add_header</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div><code class="type">None</code></h1><p><code class="signature">http_add_header(self, key, value)</code></p><p><span class="text.normal">Append a single header to the header sequence that will be supplied by the response.</span></p></section><section class="data" documented="false" local-identifier="add_header" id="Controller.add_header"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.add_header"><span class="text.normal">add_header</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">add_header = http_add_header
</code></pre></section><section class="method" documented="true" local-identifier="http_extend_headers" id="Controller.http_extend_headers"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.http_extend_headers"><span class="text.normal">http_extend_headers</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div><code class="type">None</code></h1><p><code class="signature">http_extend_headers(self, pairs)</code></p><p><span class="text.normal">Add a sequence of headers.</span></p></section><section class="data" documented="false" local-identifier="extend_headers" id="Controller.extend_headers"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.extend_headers"><span class="text.normal">extend_headers</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">extend_headers = http_extend_headers
</code></pre></section><section class="method" documented="true" local-identifier="http_set_response" id="Controller.http_set_response"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.http_set_response"><span class="text.normal">http_set_response</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">http_set_response(self, code, descr, length)</code></p><p><span class="text.normal">Assign the status of the response and designate the transfer encoding.</span><span class="text.line-break"> </span><span class="text.normal">Excepting </span><a class="factor-local" href="#Controller.http_set_response.Parameters.length"><span class="parameter">length</span></a><span class="text.normal">, all parameters </span><span class="text.emphasis">must</span><span class="text.normal"> be </span><a class="invalid" href="#bytes"><span class="unknown">bytes</span></a><span class="text.normal"> instances;</span><span class="text.line-break"> </span><span class="text.normal">this is intended to emphasize that the fields are being directly inserted</span><span class="text.line-break"> </span><span class="text.normal">into the wire.</span></p><p><span class="text.normal">If </span><a class="factor-local" href="#Controller.http_set_response.Parameters.cotype"><span class="parameter">cotype</span></a><span class="text.normal"> is </span><a class="invalid" href="#None"><span class="unknown">None</span></a><span class="text.normal">, neither </span><code class="http.header">Content-Length</code><span class="text.normal"> nor</span><span class="text.line-break"> </span><code class="http.header">Transfer-Encoding</code><span class="text.normal"> will be appended to the headers.</span></p><p><span class="text.normal">If </span><a class="factor-local" href="#Controller.http_set_response.Parameters.cotype"><span class="parameter">cotype</span></a><span class="text.normal"> is not </span><a class="invalid" href="#None"><span class="unknown">None</span></a><span class="text.normal"> and </span><a class="factor-local" href="#Controller.http_set_response.Parameters.length"><span class="parameter">length</span></a><span class="text.normal"> is </span><a class="invalid" href="#None"><span class="unknown">None</span></a><span class="text.normal">, chunked transfer encoding will be used.</span><span class="text.line-break"> </span><span class="text.normal">If </span><a class="factor-local" href="#Controller.http_set_response.Parameters.cotype"><span class="parameter">cotype</span></a><span class="text.normal"> is not </span><a class="invalid" href="#None"><span class="unknown">None</span></a><span class="text.normal"> and </span><a class="factor-local" href="#Controller.http_set_response.Parameters.length"><span class="parameter">length</span></a><span class="text.normal"> is an integer, </span><code class="http.header">Content-Length</code><span class="text.line-break"> </span><span class="text.normal">will be provided.</span></p></section><section class="data" documented="false" local-identifier="set_response" id="Controller.set_response"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.set_response"><span class="text.normal">set_response</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">set_response = http_set_response
</code></pre></section><section class="method" documented="true" local-identifier="http_continue" id="Controller.http_continue"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.http_continue"><span class="text.normal">http_continue</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">http_continue(self, headers)</code></p><p><span class="text.normal">Emit a </span><code class="http.code">100</code><span class="text.normal"> continue response</span><span class="text.line-break"> </span><span class="text.normal">with the given headers. Emitting a continuation</span><span class="text.line-break"> </span><span class="text.normal">after a non-100 response has been sent will fault</span><span class="text.line-break"> </span><span class="text.normal">the Transaction.</span></p><section class="unspecified" documented="true" local-identifier="Engineering" id="Controller.http_continue.Engineering"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="section" href="#Controller.http_continue">http_continue</a><a class="title" href="#Controller.http_continue.Engineering"><span class="text.normal">Engineering</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><p><span class="text.normal">Currently, the HTTP implementation presumes one response</span><span class="text.line-break"> </span><span class="text.normal">per transaction which is in conflict with HTTP/1.1's CONTINUE.</span></p></section></section><section class="method" documented="true" local-identifier="http_redirect" id="Controller.http_redirect"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.http_redirect"><span class="text.normal">http_redirect</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">http_redirect(self, location)</code></p><p><span class="text.normal">Location header redirect using a 301-MOVED PERMANENTLY response.</span></p></section><section class="method" documented="true" local-identifier="_http_content_headers" id="Controller._http_content_headers"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller._http_content_headers"><span class="text.normal">_http_content_headers</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">_http_content_headers(self, cotype, length)</code></p><p><span class="text.normal">Define the type and length of the entity body to be sent.</span></p></section><section class="method" documented="true" local-identifier="http_dispatch_output" id="Controller.http_dispatch_output"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.http_dispatch_output"><span class="text.normal">http_dispatch_output</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">http_dispatch_output(self, channel)</code></p><p><span class="text.normal">Dispatch the given </span><a class="factor-local" href="#Controller.http_dispatch_output.Parameters.channel"><span class="parameter">channel</span></a><span class="text.normal"> using a new </span><a class="context-local" href="../../kernel/io#Transfer"><span class="factor-element">fault.kernel.io.Transfer</span></a><span class="text.normal"> instance into </span><a class="invalid" href="#invocations'"><span class="unknown">invocations'</span></a><span class="text.line-break"> </span><a class="context-local" href="../../kernel/io#Transport"><span class="factor-element">fault.kernel.io.Transport</span></a><span class="text.normal"> transaction.</span></p></section><section class="method" documented="true" local-identifier="http_iterate_output" id="Controller.http_iterate_output"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.http_iterate_output"><span class="text.normal">http_iterate_output</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">http_iterate_output(self, iterator)</code></p><p><span class="text.normal">Construct a Flow consisting of a single </span><a class="context-local" href="../../kernel/flows#Iterate"><span class="factor-element">fault.kernel.flows.Iterate</span></a><span class="text.normal"> instance</span><span class="text.line-break"> </span><span class="text.normal">used to stream output to the connection protocol state.</span></p><p><span class="text.normal">The </span><a class="context-local" href="../../kernel/io#Transfer"><span class="factor-element">fault.kernel.io.Transfer</span></a><span class="text.normal"> transaction will be dispatched into the </span><a class="context-local" href="../../kernel/io#Transport"><span class="factor-element">fault.kernel.io.Transport</span></a><span class="text.line-break"> </span><span class="text.normal">supporting the connection to the remote peer.</span></p></section><section class="method" documented="true" local-identifier="http_write_output" id="Controller.http_write_output"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.http_write_output"><span class="text.normal">http_write_output</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">http_write_output(self, cotype, data)</code></p><p><span class="text.normal">Send the given </span><a class="factor-local" href="#Controller.http_write_output.Parameters.data"><span class="parameter">data</span></a><span class="text.normal"> to the remote end with the given content type, </span><a class="factor-local" href="#Controller.http_write_output.Parameters.cotype"><span class="parameter">cotype</span></a><span class="text.normal">.</span><span class="text.line-break"> </span><span class="text.normal">If other headers are desired, they </span><span class="text.emphasis">must</span><span class="text.normal"> be configured before running</span><span class="text.line-break"> </span><span class="text.normal">this method.</span></p></section><section class="method" documented="true" local-identifier="http_write_text" id="Controller.http_write_text"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.http_write_text"><span class="text.normal">http_write_text</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">http_write_text(self, string)</code></p><p><span class="text.normal">Send the given </span><a class="invalid" href="#data"><span class="unknown">data</span></a><span class="text.normal"> to the remote end with the given </span><a class="invalid" href="#mime"><span class="unknown">mime</span></a><span class="text.normal"> type.</span><span class="text.line-break"> </span><span class="text.normal">If other headers are desired, they </span><span class="text.emphasis">must</span><span class="text.normal"> be configured before running</span><span class="text.line-break"> </span><span class="text.normal">this method.</span></p></section><section class="method" documented="true" local-identifier="http_read_file_into_output" id="Controller.http_read_file_into_output"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.http_read_file_into_output"><span class="text.normal">http_read_file_into_output</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">http_read_file_into_output(self, route, cotype)</code></p><p><span class="text.normal">Send the file referenced by </span><a class="factor-local" href="#Controller.http_read_file_into_output.Parameters.route"><span class="parameter">route</span></a><span class="text.normal"> to the remote end as</span><span class="text.line-break"> </span><span class="text.normal">the (HTTP) entity body.</span></p><section class="unspecified" documented="true" local-identifier="Parameters" id="Controller.http_read_file_into_output.Parameters"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="section" href="#Controller.http_read_file_into_output">http_read_file_into_output</a><a class="title" href="#Controller.http_read_file_into_output.Parameters"><span class="text.normal">Parameters</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><dl class="text.mapping"><div id="Controller.http_read_file_into_output.Parameters.self" class="parameter" documented="false"><dt><a class="dkn" href="#Controller.http_read_file_into_output.Parameters.self"></a><span class="directory-key"><code class="parameter">self</code></span></dt><dd><div class="status"></div><p><code class="control.absent">Undocumented</code><span class="text.normal">.</span></p></dd></div><div id="Controller.http_read_file_into_output.Parameters.route" class="parameter" documented="true"><dt><a class="dkn" href="#Controller.http_read_file_into_output.Parameters.route"></a><span class="directory-key"><code class="parameter">route</code></span></dt><dd><div class="status"></div><p><span class="text.normal">Route instance selecting the file.</span></p></dd></div><div id="Controller.http_read_file_into_output.Parameters.cotype" class="parameter" documented="true"><dt><a class="dkn" href="#Controller.http_read_file_into_output.Parameters.cotype"></a><span class="directory-key"><code class="parameter">cotype</code></span></dt><dd><div class="status"></div><ul class="text.set"><li><p><code class="type.syntax">str</code></p></li><li><p><a class="type" href="#str"><span class="invalid">str</span></a></p></li></ul><p><span class="text.normal">The content type to designate in the response.</span></p></dd></div></dl></section></section><section class="method" documented="true" local-identifier="http_send_file_head" id="Controller.http_send_file_head"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.http_send_file_head"><span class="text.normal">http_send_file_head</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">http_send_file_head(self, route, cotype)</code></p><p><span class="text.normal">Send the file referenced by </span><a class="factor-local" href="#Controller.http_send_file_head.Parameters.route"><span class="parameter">route</span></a><span class="text.normal"> to the remote end as</span><span class="text.line-break"> </span><span class="text.normal">the (HTTP) entity body.</span></p><section class="unspecified" documented="true" local-identifier="Parameters" id="Controller.http_send_file_head.Parameters"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="section" href="#Controller.http_send_file_head">http_send_file_head</a><a class="title" href="#Controller.http_send_file_head.Parameters"><span class="text.normal">Parameters</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><dl class="text.mapping"><div id="Controller.http_send_file_head.Parameters.self" class="parameter" documented="false"><dt><a class="dkn" href="#Controller.http_send_file_head.Parameters.self"></a><span class="directory-key"><code class="parameter">self</code></span></dt><dd><div class="status"></div><p><code class="control.absent">Undocumented</code><span class="text.normal">.</span></p></dd></div><div id="Controller.http_send_file_head.Parameters.route" class="parameter" documented="true"><dt><a class="dkn" href="#Controller.http_send_file_head.Parameters.route"></a><span class="directory-key"><code class="parameter">route</code></span></dt><dd><div class="status"></div><p><span class="text.normal">Route instance selecting the file.</span></p></dd></div><div id="Controller.http_send_file_head.Parameters.cotype" class="parameter" documented="true"><dt><a class="dkn" href="#Controller.http_send_file_head.Parameters.cotype"></a><span class="directory-key"><code class="parameter">cotype</code></span></dt><dd><div class="status"></div><ul class="text.set"><li><p><code class="type.syntax">str</code></p></li><li><p><a class="type" href="#str"><span class="invalid">str</span></a></p></li></ul><p><span class="text.normal">The content type to designate in the response.</span></p></dd></div></dl></section></section><section class="method" documented="true" local-identifier="http_read_input_into_buffer" id="Controller.http_read_input_into_buffer"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.http_read_input_into_buffer"><span class="text.normal">http_read_input_into_buffer</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">http_read_input_into_buffer(self, callback, *args)</code></p><p><span class="text.normal">Connect the input Flow to a buffer that executes</span><span class="text.line-break"> </span><span class="text.normal">the given callback when the entity body has been transferred.</span></p></section><section class="method" documented="true" local-identifier="http_ignore_input" id="Controller.http_ignore_input"><h1><span class="prefix"></span><a class="section" href="#Controller">Controller</a><a class="title" href="#Controller.http_ignore_input"><span class="text.normal">http_ignore_input</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">http_ignore_input(self)</code></p><p><span class="text.normal">Connect the given input to a transfer that discards events.</span></p></section></section><section class="class" documented="true" local-identifier="Network" id="Network"><h1><span class="prefix"></span><a class="title" href="#Network"><span class="text.normal">Network</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">class</span></div></h1><div class="inheritance"><code class="type"><a class="context-local" href="../../kernel/core#Context"><span class="factor-element">core.Context</span></a></code></div><p><span class="text.normal">System Context for managing a set of </span><a class="factor-local" href="#Host"><span class="class">Host</span></a><span class="text.normal"> instances.</span><span class="text.line-break"> </span><span class="text.normal">Provides grouping for hosts that share the same system network</span><span class="text.line-break"> </span><span class="text.normal">interface.</span></p><section class="unspecified" documented="true" local-identifier="Properties" id="Network.Properties"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#Network">Network</a><a class="title" href="#Network.Properties"><span class="text.normal">Properties</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><dl class="text.mapping"><div id="Network.Properties.http_default_host" documented="true"><dt><a class="dkn" href="#Network.Properties.http_default_host"></a><span class="directory-key"><span class="text.normal">http_default_host</span></span></dt><dd><div class="status"></div><p><span class="text.normal">The default HTTP Host; the </span><a class="factor-local" href="#Host"><span class="class">Host</span></a><span class="text.normal"> to select in</span><span class="text.line-break"> </span><span class="text.normal">cases where no </span><code class="http.header">Host</code><span class="text.normal"> is designated by</span><span class="text.line-break"> </span><span class="text.normal">a request.</span></p></dd></div></dl></section><section class="data" documented="false" local-identifier="http_default_host" id="Network.http_default_host"><h1><span class="prefix"></span><a class="section" href="#Network">Network</a><a class="title" href="#Network.http_default_host"><span class="text.normal">http_default_host</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">http_default_host = None
</code></pre></section><section class="method" documented="false" local-identifier="__init__" id="Network.__init__"><h1><span class="prefix"></span><a class="section" href="#Network">Network</a><a class="title" href="#Network.__init__"><span class="text.normal">__init__</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">__init__(self)</code></p></section><section class="method" documented="false" local-identifier="net_dispatch" id="Network.net_dispatch"><h1><span class="prefix"></span><a class="section" href="#Network">Network</a><a class="title" href="#Network.net_dispatch"><span class="text.normal">net_dispatch</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">net_dispatch(self, host)</code></p></section><section class="method" documented="false" local-identifier="net_select_host" id="Network.net_select_host"><h1><span class="prefix"></span><a class="section" href="#Network">Network</a><a class="title" href="#Network.net_select_host"><span class="text.normal">net_select_host</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">net_select_host(self, name)</code></p></section><section class="method" documented="true" local-identifier="net_accept" id="Network.net_accept"><h1><span class="prefix"></span><a class="section" href="#Network">Network</a><a class="title" href="#Network.net_accept"><span class="text.normal">net_accept</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">net_accept(self, invp)</code></p><p><span class="text.normal">Route the protocol transactions to the designated host.</span><span class="text.line-break"> </span><span class="text.normal">This only enqueues the invocation for subsequent execution.</span></p></section><section class="method" documented="false" local-identifier="actuate" id="Network.actuate"><h1><span class="prefix"></span><a class="section" href="#Network">Network</a><a class="title" href="#Network.actuate"><span class="text.normal">actuate</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">actuate(self)</code></p></section><section class="method" documented="false" local-identifier="terminate" id="Network.terminate"><h1><span class="prefix"></span><a class="section" href="#Network">Network</a><a class="title" href="#Network.terminate"><span class="text.normal">terminate</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">terminate(self)</code></p></section><section class="method" documented="false" local-identifier="xact_void" id="Network.xact_void"><h1><span class="prefix"></span><a class="section" href="#Network">Network</a><a class="title" href="#Network.xact_void"><span class="text.normal">xact_void</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">xact_void(self, final)</code></p></section></section><section class="class" documented="true" local-identifier="Partition" id="Partition"><h1><span class="prefix"></span><a class="title" href="#Partition"><span class="text.normal">Partition</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">class</span></div></h1><div class="inheritance"><code class="type"><a class="context-local" href="../../kernel/core#Context"><span class="factor-element">core.Context</span></a></code></div><p><span class="text.normal">Base class for host applications.</span></p><section class="unspecified" documented="true" local-identifier="Properties" id="Partition.Properties"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#Partition">Partition</a><a class="title" href="#Partition.Properties"><span class="text.normal">Properties</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><dl class="text.mapping"><div id="Partition.Properties.part_path" documented="true"><dt><a class="dkn" href="#Partition.Properties.part_path"></a><span class="directory-key"><span class="text.normal">part_path</span></span></dt><dd><div class="status"></div><p><span class="text.normal">The absolute (URI) path used to reach the partition.</span><span class="text.line-break"> </span><span class="text.normal">For application servers, this is normally </span><code class="">'/'</code><span class="text.normal">.</span></p></dd></div><div id="Partition.Properties.part_argv" documented="true"><dt><a class="dkn" href="#Partition.Properties.part_argv"></a><span class="directory-key"><span class="text.normal">part_argv</span></span></dt><dd><div class="status"></div><p><span class="text.normal">The arguments that were configured with the partition.</span></p></dd></div></dl></section><section class="method" documented="false" local-identifier="__init__" id="Partition.__init__"><h1><span class="prefix"></span><a class="section" href="#Partition">Partition</a><a class="title" href="#Partition.__init__"><span class="text.normal">__init__</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">__init__(self, path)</code></p></section><section class="method" documented="false" local-identifier="structure" id="Partition.structure"><h1><span class="prefix"></span><a class="section" href="#Partition">Partition</a><a class="title" href="#Partition.structure"><span class="text.normal">structure</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">structure(self)</code></p></section><section class="method" documented="false" local-identifier="actuate" id="Partition.actuate"><h1><span class="prefix"></span><a class="section" href="#Partition">Partition</a><a class="title" href="#Partition.actuate"><span class="text.normal">actuate</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">actuate(self)</code></p></section><section class="method" documented="true" local-identifier="part_accept" id="Partition.part_accept"><h1><span class="prefix"></span><a class="section" href="#Partition">Partition</a><a class="title" href="#Partition.part_accept"><span class="text.normal">part_accept</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">part_accept(self, invp)</code></p><p><span class="text.normal">Allocate a sequence of controllers and process them using </span><a class="factor-local" href="#Partition.part_select"><span class="method">part_select</span></a><span class="text.normal">.</span></p></section><section class="method" documented="false" local-identifier="part_select" id="Partition.part_select"><h1><span class="prefix"></span><a class="section" href="#Partition">Partition</a><a class="title" href="#Partition.part_select"><span class="text.normal">part_select</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">part_select(self, ctl)</code></p></section><section class="method" documented="false" local-identifier="terminate" id="Partition.terminate"><h1><span class="prefix"></span><a class="section" href="#Partition">Partition</a><a class="title" href="#Partition.terminate"><span class="text.normal">terminate</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">terminate(self)</code></p></section><section class="method" documented="false" local-identifier="xact_void" id="Partition.xact_void"><h1><span class="prefix"></span><a class="section" href="#Partition">Partition</a><a class="title" href="#Partition.xact_void"><span class="text.normal">xact_void</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">xact_void(self, final)</code></p></section></section><section class="class" documented="true" local-identifier="Files" id="Files"><h1><span class="prefix"></span><a class="title" href="#Files"><span class="text.normal">Files</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">class</span></div></h1><div class="inheritance"><code class="type"><a class="factor-local" href="#Partition"><span class="class">Partition</span></a></code></div><p><span class="text.normal">Read-only filesystem union for serving local files.</span></p><section class="method" documented="false" local-identifier="part_dispatched" id="Files.part_dispatched"><h1><span class="prefix"></span><a class="section" href="#Files">Files</a><a class="title" href="#Files.part_dispatched"><span class="text.normal">part_dispatched</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">part_dispatched(self, argv)</code></p></section><section class="method" documented="false" local-identifier="part_select" id="Files.part_select"><h1><span class="prefix"></span><a class="section" href="#Files">Files</a><a class="title" href="#Files.part_select"><span class="text.normal">part_select</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">part_select(self, ctl)</code></p></section></section><section class="class" documented="true" local-identifier="Host" id="Host"><h1><span class="prefix"></span><a class="title" href="#Host"><span class="text.normal">Host</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">class</span></div></h1><div class="inheritance"><code class="type"><a class="context-local" href="../../kernel/core#Context"><span class="factor-element">core.Context</span></a></code></div><p><span class="text.normal">An HTTP Host interface for managing routing of service connections,</span><span class="text.line-break"> </span><span class="text.normal">and handling the representation of error cases.</span></p><section class="unspecified" documented="true" local-identifier="Properties" id="Host.Properties"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.Properties"><span class="text.normal">Properties</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><dl class="text.mapping"><div id="Host.Properties.h_names" documented="true"><dt><a class="dkn" href="#Host.Properties.h_names"></a><span class="directory-key"><span class="text.normal">h_names</span></span></dt><dd><div class="status"></div><p><span class="text.normal">The set hostnames that this host can facilitate.</span><span class="text.line-break"> </span><span class="text.normal">The object can be an arbitrary container in order</span><span class="text.line-break"> </span><span class="text.normal">to match patterns as well.</span></p></dd></div><div id="Host.Properties.h_canonical" documented="true"><dt><a class="dkn" href="#Host.Properties.h_canonical"></a><span class="directory-key"><span class="text.normal">h_canonical</span></span></dt><dd><div class="status"></div><p><span class="text.normal">The first name given to </span><a class="factor-local" href="#Host.h_update_names"><span class="method">h_update_names</span></a><span class="text.normal">. </span><a class="invalid" href="#None"><span class="unknown">None</span></a><span class="text.line-break"> </span><span class="text.normal">if no names were given and the name should be</span><span class="text.line-break"> </span><span class="text.normal">inherited from requests.</span></p></dd></div><div id="Host.Properties.h_root" documented="true"><dt><a class="dkn" href="#Host.Properties.h_root"></a><span class="directory-key"><span class="text.normal">h_root</span></span></dt><dd><div class="status"></div><p><span class="text.normal">The root of the host's path as a </span><a class="context-local" href="../../context/match#SubsequenceScan"><span class="factor-element">fault.context.match.SubsequenceScan</span></a><span class="text.normal">.</span><span class="text.line-break"> </span><span class="text.normal">This is the initial path of the router in order to allow "mounts"</span><span class="text.line-break"> </span><span class="text.normal">at arbitrary positions. Built from </span><a class="invalid" href="#requisite"><span class="unknown">requisite</span></a><span class="text.normal"> prefixes.</span></p></dd></div><div id="Host.Properties.h_allowed_methods" documented="true"><dt><a class="dkn" href="#Host.Properties.h_allowed_methods"></a><span class="directory-key"><span class="text.normal">h_allowed_methods</span></span></dt><dd><div class="status"></div><p><span class="text.normal">Method restrictions for the host. </span><a class="invalid" href="#None"><span class="unknown">None</span></a><span class="text.normal"> if not restricted.</span></p></dd></div><div id="Host.Properties.h_headers" documented="true"><dt><a class="dkn" href="#Host.Properties.h_headers"></a><span class="directory-key"><span class="text.normal">h_headers</span></span></dt><dd><div class="status"></div><p><span class="text.normal">Headers added to every response routed to this host.</span></p></dd></div></dl></section><section class="unspecified" documented="true" local-identifier="Engineering" id="Host.Engineering"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.Engineering"><span class="text.normal">Engineering</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><p><span class="text.normal">While proper caching should be handled by a proxy, caching of "constants"</span><span class="text.line-break"> </span><span class="text.normal">should be performed here as well. A constant would be a resource</span><span class="text.line-break"> </span><span class="text.normal">that is designated as being the only possible version when given</span><span class="text.line-break"> </span><span class="text.normal">the same path. Constants would be shared across forks using a mmap region</span><span class="text.line-break"> </span><span class="text.normal">initialized by a parent process.</span></p></section><section class="staticmethod" documented="true" local-identifier="strcache" id="Host.strcache"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.strcache"><span class="text.normal">strcache</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">staticmethod</span></div></h1><p><code class="signature">strcache(obj)</code></p><p><span class="text.normal">Cache for encoded identifiers often used with a host.</span></p></section><section class="staticmethod" documented="false" local-identifier="descriptioncache" id="Host.descriptioncache"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.descriptioncache"><span class="text.normal">descriptioncache</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">staticmethod</span></div></h1><p><code class="signature">descriptioncache(obj)</code></p></section><section class="data" documented="false" local-identifier="h_defaults" id="Host.h_defaults"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.h_defaults"><span class="text.normal">h_defaults</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">h_defaults = {
	'h_options': (),
	'h_allowed_methods': frozenset({
		b'GET', b'HEAD', b'POST', b'PUT',
		b'PATCH', b'DELETE', b'OPTIONS'
	}),
}
</code></pre></section><section class="data" documented="false" local-identifier="h_canonical" id="Host.h_canonical"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.h_canonical"><span class="text.normal">h_canonical</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">h_canonical = None
</code></pre></section><section class="data" documented="false" local-identifier="h_names" id="Host.h_names"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.h_names"><span class="text.normal">h_names</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">h_names = None
</code></pre></section><section class="data" documented="false" local-identifier="h_options" id="Host.h_options"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.h_options"><span class="text.normal">h_options</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">h_options = None
</code></pre></section><section class="data" documented="false" local-identifier="h_allowed_methods" id="Host.h_allowed_methods"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.h_allowed_methods"><span class="text.normal">h_allowed_methods</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">h_allowed_methods = h_defaults['h_allowed_methods']
</code></pre></section><section class="data" documented="false" local-identifier="h_redirects" id="Host.h_redirects"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.h_redirects"><span class="text.normal">h_redirects</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">h_redirects = None
</code></pre></section><section class="data" documented="false" local-identifier="h_headers" id="Host.h_headers"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.h_headers"><span class="text.normal">h_headers</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">h_headers = ()
</code></pre></section><section class="method" documented="false" local-identifier="actuate" id="Host.actuate"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.actuate"><span class="text.normal">actuate</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">actuate(self)</code></p></section><section class="method" documented="false" local-identifier="h_enable_options" id="Host.h_enable_options"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.h_enable_options"><span class="text.normal">h_enable_options</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">h_enable_options(self, *option_identifiers)</code></p></section><section class="method" documented="false" local-identifier="h_disable_options" id="Host.h_disable_options"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.h_disable_options"><span class="text.normal">h_disable_options</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">h_disable_options(self, *option_identifiers)</code></p></section><section class="method" documented="false" local-identifier="h_set_headers" id="Host.h_set_headers"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.h_set_headers"><span class="text.normal">h_set_headers</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">h_set_headers(self, headers)</code></p></section><section class="method" documented="true" local-identifier="h_update_names" id="Host.h_update_names"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.h_update_names"><span class="text.normal">h_update_names</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">h_update_names(self, *names)</code></p><p><span class="text.normal">Modify the host names that this interface responds to.</span></p></section><section class="method" documented="false" local-identifier="__init__" id="Host.__init__"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.__init__"><span class="text.normal">__init__</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">__init__(self, partitions)</code></p></section><section class="method" documented="false" local-identifier="h_set_redirects" id="Host.h_set_redirects"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.h_set_redirects"><span class="text.normal">h_set_redirects</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">h_set_redirects(self, target, origins)</code></p></section><section class="method" documented="false" local-identifier="h_clear_redirects" id="Host.h_clear_redirects"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.h_clear_redirects"><span class="text.normal">h_clear_redirects</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">h_clear_redirects(self)</code></p></section><section class="method" documented="true" local-identifier="h_configure" id="Host.h_configure"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.h_configure"><span class="text.normal">h_configure</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">h_configure(self, partitions)</code></p><p><span class="text.normal">Configure and dispatch the host's partitions.</span></p></section><section class="method" documented="true" local-identifier="h_connect" id="Host.h_connect"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.h_connect"><span class="text.normal">h_connect</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">h_connect(self, partition)</code></p><p><span class="text.normal">Add the given </span><a class="factor-local" href="#Host.h_connect.Parameters.partition"><span class="parameter">partition</span></a><span class="text.normal"> to the host.</span></p></section><section class="method" documented="true" local-identifier="h_disconnect" id="Host.h_disconnect"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.h_disconnect"><span class="text.normal">h_disconnect</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">h_disconnect(self, partition)</code></p><p><span class="text.normal">Terminate and remove the partition identified by its path.</span></p></section><section class="method" documented="false" local-identifier="structure" id="Host.structure"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.structure"><span class="text.normal">structure</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">structure(self)</code></p></section><section class="method" documented="true" local-identifier="h_options_request" id="Host.h_options_request"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.h_options_request"><span class="text.normal">h_options_request</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">h_options_request(self, ctl)</code></p><p><span class="text.normal">Handle a request for </span><code class="http.initiate">OPTIONS * HTTP/x.x</code><span class="text.normal">.</span><span class="text.line-break"> </span><span class="text.normal">Individual Resources may support an OPTIONS request as well.</span></p></section><section class="method" documented="true" local-identifier="h_error" id="Host.h_error"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.h_error"><span class="text.normal">h_error</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">h_error(self, ctl, code, exc)</code></p><p><span class="text.normal">Host error handler. By default, emits an XML document with an assigned stylesheet</span><span class="text.line-break"> </span><span class="text.normal">that can be retrieved for formatting the error. Additional error data may by</span><span class="text.line-break"> </span><span class="text.normal">injected into the document in order to provide application-level error information.</span></p><p><span class="text.normal">Given the details about an HTTP error message and the corresponding</span><span class="text.line-break"> </span><a class="project-local" href="../http#IO"><span class="factor-element">fault.web.http.IO</span></a><span class="text.normal">, emit the rendered error to the client.</span></p></section><section class="method" documented="true" local-identifier="h_fallback" id="Host.h_fallback"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.h_fallback"><span class="text.normal">h_fallback</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">h_fallback(self, ctl)</code></p><p><span class="text.normal">Method called when no prefix matches the request.</span></p><p><span class="text.normal">Provided for subclasses in order to override the usual </span><code class="http.error">404</code><span class="text.normal">.</span></p></section><section class="method" documented="true" local-identifier="h_route" id="Host.h_route"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.h_route"><span class="text.normal">h_route</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">h_route(self, ctl)</code></p><p><span class="text.normal">Route the request to the identified partition.</span></p></section><section class="staticmethod" documented="false" local-identifier="_h_redirected" id="Host._h_redirected"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host._h_redirected"><span class="text.normal">_h_redirected</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">staticmethod</span></div></h1><p><code class="signature">_h_redirected(target, ctl)</code></p></section><section class="method" documented="false" local-identifier="_h_direct" id="Host._h_direct"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host._h_direct"><span class="text.normal">_h_direct</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">_h_direct(self, ctl)</code></p></section><section class="method" documented="true" local-identifier="h_accept" id="Host.h_accept"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.h_accept"><span class="text.normal">h_accept</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">h_accept(self, invp)</code></p><p><span class="text.normal">Allocate a sequence of controllers and process them using </span><a class="factor-local" href="#Host.h_route"><span class="method">h_route</span></a><span class="text.normal">.</span></p></section><section class="method" documented="false" local-identifier="terminate" id="Host.terminate"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.terminate"><span class="text.normal">terminate</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">terminate(self)</code></p></section><section class="method" documented="false" local-identifier="xact_void" id="Host.xact_void"><h1><span class="prefix"></span><a class="section" href="#Host">Host</a><a class="title" href="#Host.xact_void"><span class="text.normal">xact_void</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">xact_void(self, final)</code></p></section></section><h1 class="footing"></h1></main></body></html>