<html root="2"><head><title>fault.context.match</title><meta charset="utf-8"/><link as="style" rel="preload" href="../../.legacy-web/core.css"></link><link as="style" rel="preload" href="../../.legacy-web/factor.css"></link><link rel="stylesheet" href="../../.legacy-web/core.css"></link><link rel="stylesheet" href="../../.legacy-web/factor.css"></link></head><body><main><h1><span class="prefix"></span><div class="page-subject"><img class="icon" src="../../.factor-type-icon/if.fault.io/python-module.svg"></img><span class="subject-identifier">match</span><a href="http://if.fault.io/factors/python.module"><code class="type">python.module</code></a></div><div class="page-context"><a href="../"><img class="icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogPHRleHQgeT0iMzIiIGZvbnQtc2l6ZT0iMzIiPvCflIs8L3RleHQ+Cjwvc3ZnPgo="></img></a><span class="context-identifier">fault.context</span></div></h1><section class="chapter"><p><span class="text.normal">Naive prefix searching implementations.</span></p></section><section class="import" documented="false" local-identifier="collections" id="collections"><h1><span class="prefix"></span><a class="title" href="#collections"><span class="text.normal">collections</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="typing" id="typing"><h1><span class="prefix"></span><a class="title" href="#typing"><span class="text.normal">typing</span></a><span class="abstract-type">import</span></h1></section><section class="class" documented="true" local-identifier="SubsequenceScan" id="SubsequenceScan"><h1><span class="prefix"></span><a class="title" href="#SubsequenceScan"><span class="text.normal">SubsequenceScan</span></a><span class="abstract-type">class</span></h1><p><span class="text.normal">Subsequence search implementation based on scanning the possible</span><span class="text.line-break"> </span><span class="text.normal">sizes and checking the candidate subsequence's presence in a set.</span></p><p><span class="text.normal">This naive implementation is O(N) (hash checks and subsequence) worst</span><span class="text.line-break"> </span><span class="text.normal">case for first match, so it is inappropriate for large sets.</span></p><p><span class="text.normal">However, when used as part of a tree where the sequence is kept small,</span><span class="text.line-break"> </span><span class="text.normal">it may be a reasonable implmentation selection.</span></p><section class="unspecified" documented="true" local-identifier="Properties" id="SubsequenceScan.Properties"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#SubsequenceScan">SubsequenceScan</a><a class="title" href="#SubsequenceScan.Properties"><span class="text.normal">Properties</span></a><span class="abstract-type"></span></h1><dl class="text.mapping"><div id="SubsequenceScan.Properties.sequences" documented="true"><dt><a class="dkn" href="#SubsequenceScan.Properties.sequences"></a><span class="directory-key"><span class="text.normal">sequences</span></span></dt><dd><div class="status"></div><p><span class="text.normal">The set of sequences that will be scanned by </span><a class="factor-local" href="#SubsequenceScan.matches"><span class="method">matches</span></a><span class="text.normal">.</span></p></dd></div><div id="SubsequenceScan.Properties.sizes" documented="true"><dt><a class="dkn" href="#SubsequenceScan.Properties.sizes"></a><span class="directory-key"><span class="text.normal">sizes</span></span></dt><dd><div class="status"></div><p><span class="text.normal">The ordered sequence of slice sizes that sources</span><span class="text.line-break"> </span><span class="text.normal">the match search.</span></p></dd></div><div id="SubsequenceScan.Properties.offset" documented="true"><dt><a class="dkn" href="#SubsequenceScan.Properties.offset"></a><span class="directory-key"><span class="text.normal">offset</span></span></dt><dd><div class="status"></div><p><span class="text.normal">The starting point of the subsequence's slice;</span><span class="text.line-break"> </span><span class="text.normal">usually zero.</span></p></dd></div></dl></section><section class="method" documented="true" local-identifier="__init__" id="SubsequenceScan.__init__"><h1><span class="prefix"></span><a class="section" href="#SubsequenceScan">SubsequenceScan</a><a class="title" href="#SubsequenceScan.__init__"><span class="text.normal">__init__</span></a><span class="abstract-type">method</span></h1><p><code class="signature">__init__(self, sequences, offset, order)</code></p><p><span class="text.normal">Create a SubsequenceScan from the given set of sequences.</span></p><section class="unspecified" documented="true" local-identifier="Parameters" id="SubsequenceScan.__init__.Parameters"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#SubsequenceScan">SubsequenceScan</a><a class="section" href="#SubsequenceScan.__init__">__init__</a><a class="title" href="#SubsequenceScan.__init__.Parameters"><span class="text.normal">Parameters</span></a><span class="abstract-type"></span></h1><dl class="text.mapping"><div id="SubsequenceScan.__init__.Parameters.self" class="parameter" documented="false"><dt><a class="dkn" href="#SubsequenceScan.__init__.Parameters.self"></a><span class="directory-key"><code class="parameter">self</code></span></dt><dd><div class="status"></div><p><code class="control.absent">Undocumented</code><span class="text.normal">.</span></p></dd></div><div id="SubsequenceScan.__init__.Parameters.sequences" class="parameter" documented="true"><dt><a class="dkn" href="#SubsequenceScan.__init__.Parameters.sequences"></a><span class="directory-key"><code class="parameter">sequences</code></span></dt><dd><div class="status"></div><ul class="text.set"><li><p><code class="type.syntax">typing.Sequence[typing.Hashable]</code></p></li></ul><p><span class="text.normal">A sequence of sequences to scan. Usually, a list of </span><a class="invalid" href="#str"><span class="unknown">str</span></a><span class="text.normal"> instances.</span><span class="text.line-break"> </span><span class="text.normal">This is transformed into a set of sequences.</span></p></dd></div><div id="SubsequenceScan.__init__.Parameters.offset" class="parameter" documented="true"><dt><a class="dkn" href="#SubsequenceScan.__init__.Parameters.offset"></a><span class="directory-key"><code class="parameter">offset</code></span></dt><dd><div class="status"></div><p><span class="text.normal">The start of the subsequence to check; usually </span><code class="">0</code><span class="text.normal">.</span></p></dd></div><div id="SubsequenceScan.__init__.Parameters.order" class="parameter" documented="true"><dt><a class="dkn" href="#SubsequenceScan.__init__.Parameters.order"></a><span class="directory-key"><code class="parameter">order</code></span></dt><dd><div class="status"></div><p><code class="">True</code><span class="text.normal"> means to match the longest subsequence first, and</span><span class="text.line-break"> </span><code class="">False</code><span class="text.normal"> means to match the shortest first.</span><span class="text.line-break"> </span><span class="text.normal">When </span><code class="">False</code><span class="text.normal">, the longest match will never be the first occurrence.</span></p></dd></div></dl></section></section><section class="method" documented="true" local-identifier="add" id="SubsequenceScan.add"><h1><span class="prefix"></span><a class="section" href="#SubsequenceScan">SubsequenceScan</a><a class="title" href="#SubsequenceScan.add"><span class="text.normal">add</span></a><span class="abstract-type">method</span></h1><p><code class="signature">add(self, *values)</code></p><p><span class="text.normal">Add new values to the set of sequences.</span></p><div class="admonition-WARNING"><table><tr><td><span class="admonition.icon"></span></td><td><span class="admonition.severity">WARNING</span></td></tr><tr><td></td><td><div class="admonition.content"><p><span class="text.normal">Implementation reconstructs the </span><a class="invalid" href="#sizes"><span class="unknown">sizes</span></a><span class="text.normal"> sequence every call.</span></p></div></td></tr></table></div></section><section class="method" documented="true" local-identifier="discard" id="SubsequenceScan.discard"><h1><span class="prefix"></span><a class="section" href="#SubsequenceScan">SubsequenceScan</a><a class="title" href="#SubsequenceScan.discard"><span class="text.normal">discard</span></a><span class="abstract-type">method</span></h1><p><code class="signature">discard(self, *values)</code></p><p><span class="text.normal">Remove values from the set of sequences.</span></p><div class="admonition-WARNING"><table><tr><td><span class="admonition.icon"></span></td><td><span class="admonition.severity">WARNING</span></td></tr><tr><td></td><td><div class="admonition.content"><p><span class="text.normal">Implementation reconstructs the </span><a class="invalid" href="#sizes"><span class="unknown">sizes</span></a><span class="text.normal"> sequence every call.</span></p></div></td></tr></table></div></section><section class="method" documented="true" local-identifier="matches" id="SubsequenceScan.matches"><h1><span class="prefix"></span><a class="section" href="#SubsequenceScan">SubsequenceScan</a><a class="title" href="#SubsequenceScan.matches"><span class="text.normal">matches</span></a><span class="abstract-type">method</span></h1><p><code class="signature">matches(self, key)</code></p><p><span class="text.normal">Identify all strings in the set that match the given key based</span><span class="text.line-break"> </span><span class="text.normal">on the configured offset.</span></p></section><section class="method" documented="false" local-identifier="get" id="SubsequenceScan.get"><h1><span class="prefix"></span><a class="section" href="#SubsequenceScan">SubsequenceScan</a><a class="title" href="#SubsequenceScan.get"><span class="text.normal">get</span></a><span class="abstract-type">method</span></h1><p><code class="signature">get(self, key)</code></p></section><section class="method" documented="false" local-identifier="__contains__" id="SubsequenceScan.__contains__"><h1><span class="prefix"></span><a class="section" href="#SubsequenceScan">SubsequenceScan</a><a class="title" href="#SubsequenceScan.__contains__"><span class="text.normal">__contains__</span></a><span class="abstract-type">method</span></h1><p><code class="signature">__contains__(self, key)</code></p></section><section class="method" documented="true" local-identifier="__getitem__" id="SubsequenceScan.__getitem__"><h1><span class="prefix"></span><a class="section" href="#SubsequenceScan">SubsequenceScan</a><a class="title" href="#SubsequenceScan.__getitem__"><span class="text.normal">__getitem__</span></a><span class="abstract-type">method</span></h1><p><code class="signature">__getitem__(self, key)</code></p><p><span class="text.normal">Get the first match in the set of strings.</span></p></section><section class="method" documented="false" local-identifier="values" id="SubsequenceScan.values"><h1><span class="prefix"></span><a class="section" href="#SubsequenceScan">SubsequenceScan</a><a class="title" href="#SubsequenceScan.values"><span class="text.normal">values</span></a><span class="abstract-type">method</span></h1><p><code class="signature">values(self)</code></p></section><section class="method" documented="false" local-identifier="keys" id="SubsequenceScan.keys"><h1><span class="prefix"></span><a class="section" href="#SubsequenceScan">SubsequenceScan</a><a class="title" href="#SubsequenceScan.keys"><span class="text.normal">keys</span></a><span class="abstract-type">method</span></h1><p><code class="signature">keys(self)</code></p></section></section><h1 class="footing"></h1></main></body></html>