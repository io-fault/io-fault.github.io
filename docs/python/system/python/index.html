<html root="2"><head><title>fault.system.python</title><meta charset="utf-8"/><link as="style" rel="preload" href="../../.legacy-web/core.css"></link><link as="style" rel="preload" href="../../.legacy-web/factor.css"></link><link rel="stylesheet" href="../../.legacy-web/core.css"></link><link rel="stylesheet" href="../../.legacy-web/factor.css"></link></head><body><main><h1><span class="prefix"></span><div class="page-subject"><img class="icon" src="../../.factor-type-icon/if.fault.io/python-module.svg"></img><span class="subject-identifier">python</span><a href="http://if.fault.io/factors/python.module"><code class="type">python.module</code></a></div><div class="page-context"><a href="../"><img class="icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTYiIGhlaWdodD0iMjU2Ij48dGV4dCB4PSI0IiB5PSIwLjg4ZW0iIGZvbnQtc2l6ZT0iMjQ4Ij7impnvuI88L3RleHQ+PC9zdmc+"></img></a><span class="context-identifier">fault.system</span></div></h1><section class="chapter"><p><span class="text.normal">Python Execution Context support functions and classes.</span></p></section><section class="import" documented="false" local-identifier="sys" id="sys"><h1><span class="prefix"></span><a class="title" href="#sys"><span class="text.normal">sys</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="os" id="os"><h1><span class="prefix"></span><a class="title" href="#os"><span class="text.normal">os</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="collections" id="collections"><h1><span class="prefix"></span><a class="title" href="#collections"><span class="text.normal">collections</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="pkgutil" id="pkgutil"><h1><span class="prefix"></span><a class="title" href="#pkgutil"><span class="text.normal">pkgutil</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="importlib" id="importlib"><h1><span class="prefix"></span><a class="title" href="#importlib"><span class="text.normal">importlib</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="Selector" id="Selector"><h1><span class="prefix"></span><a class="title" href="#Selector"><span class="text.normal">Selector</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="files" id="files"><h1><span class="prefix"></span><a class="title" href="#files"><span class="text.normal">files</span></a><span class="abstract-type">import</span></h1></section><section class="class" documented="true" local-identifier="Import" id="Import"><h1><span class="prefix"></span><a class="title" href="#Import"><span class="text.normal">Import</span></a><span class="abstract-type">class</span></h1><div class="inheritance"><code class="type"><a class="context-local" href="../../route/types#Selector"><span class="factor-element">Selector</span></a></code></div><p><span class="text.normal">Route for Python imports.</span></p><section class="data" documented="false" local-identifier="__slots__" id="Import.__slots__"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.__slots__"><span class="text.normal">__slots__</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">__slots__ = ('context', 'points',)
	@classmethod
</code></pre></section><section class="classmethod" documented="true" local-identifier="from_context" id="Import.from_context"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.from_context"><span class="text.normal">from_context</span></a><span class="abstract-type">classmethod</span></h1><p><code class="signature">from_context(Class)</code></p><p><span class="text.normal">Return a new </span><a class="factor-local" href="#Import"><span class="class">Import</span></a><span class="text.normal"> to the package containing the module that is executing</span><span class="text.line-break"> </span><a class="factor-local" href="#Import.from_context"><span class="classmethod">from_context</span></a><span class="text.normal">.</span></p></section><section class="classmethod" documented="true" local-identifier="from_fullname" id="Import.from_fullname"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.from_fullname"><span class="text.normal">from_fullname</span></a><span class="abstract-type">classmethod</span></h1><p><code class="signature">from_fullname(Class, module_path_string)</code></p><p><span class="text.normal">Given a valid </span><code class="">__name__</code><span class="text.normal">, return an </span><a class="factor-local" href="#Import"><span class="class">Import</span></a><span class="text.normal"> instance to that path.</span></p></section><section class="classmethod" documented="true" local-identifier="from_module" id="Import.from_module"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.from_module"><span class="text.normal">from_module</span></a><span class="abstract-type">classmethod</span></h1><p><code class="signature">from_module(Class, module)</code></p><p><span class="text.normal">Given module containing a valid </span><code class="">__name__</code><span class="text.normal">, return an </span><a class="factor-local" href="#Import"><span class="class">Import</span></a><span class="text.line-break"> </span><span class="text.normal">instance to that path.</span></p></section><section class="classmethod" documented="false" local-identifier="from_points" id="Import.from_points"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.from_points"><span class="text.normal">from_points</span></a><span class="abstract-type">classmethod</span></h1><p><code class="signature">from_points(Class, context, *points)</code></p></section><section class="classmethod" documented="true" local-identifier="from_attributes" id="Import.from_attributes"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.from_attributes"><span class="text.normal">from_attributes</span></a><span class="abstract-type">classmethod</span></h1><p><code class="signature">from_attributes(Class, path)</code></p><p><span class="text.normal">Create a </span><a class="invalid" href="#Route"><span class="unknown">Route</span></a><span class="text.normal"> and an attributes sequence based on the given </span><a class="factor-local" href="#Import.from_attributes.Parameters.path"><span class="parameter">path</span></a><span class="text.normal"> such that</span><span class="text.line-break"> </span><span class="text.normal">the </span><a class="invalid" href="#Route"><span class="unknown">Route</span></a><span class="text.normal"> is the </span><a class="factor-local" href="#Import.real"><span class="method">real</span></a><span class="text.normal"> portion of the </span><a class="factor-local" href="#Import.from_attributes.Parameters.path"><span class="parameter">path</span></a><span class="text.normal"> and text following real module</span><span class="text.line-break"> </span><span class="text.normal">path is the sequence of attributes.</span></p></section><section class="classmethod" documented="false" local-identifier="dereference" id="Import.dereference"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.dereference"><span class="text.normal">dereference</span></a><span class="abstract-type">classmethod</span></h1><p><code class="signature">dereference(Class, path)</code></p></section><section class="method" documented="false" local-identifier="__bool__" id="Import.__bool__"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.__bool__"><span class="text.normal">__bool__</span></a><span class="abstract-type">method</span></h1><p><code class="signature">__bool__(self)</code></p></section><section class="method" documented="false" local-identifier="__str__" id="Import.__str__"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.__str__"><span class="text.normal">__str__</span></a><span class="abstract-type">method</span></h1><p><code class="signature">__str__(self)</code></p></section><section class="method" documented="false" local-identifier="__repr__" id="Import.__repr__"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.__repr__"><span class="text.normal">__repr__</span></a><span class="abstract-type">method</span></h1><p><code class="signature">__repr__(self)</code></p></section><section class="method" documented="true" local-identifier="__contains__" id="Import.__contains__"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.__contains__"><span class="text.normal">__contains__</span></a><span class="abstract-type">method</span></h1><p><code class="signature">__contains__(self, abs)</code></p><p><span class="text.normal">Whether or not the Path contains the given Pointer.</span></p></section><section class="method" documented="false" local-identifier="__getitem__" id="Import.__getitem__"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.__getitem__"><span class="text.normal">__getitem__</span></a><span class="abstract-type">method</span></h1><p><code class="signature">__getitem__(self, req)</code></p></section><section class="property" documented="true" local-identifier="fullname" id="Import.fullname"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.fullname"><span class="text.normal">fullname</span></a><span class="abstract-type">property</span></h1><p><span class="text.normal">Return the absolute path of the module Route; dot separated module names.</span></p></section><section class="property" documented="true" local-identifier="basename" id="Import.basename"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.basename"><span class="text.normal">basename</span></a><span class="abstract-type">property</span></h1><p><span class="text.normal">The module's name relative to its package; node identifier used to refer to the module.</span><span class="text.line-break"> </span><span class="text.normal">Alias to </span><a class="invalid" href="#identifier"><span class="unknown">identifier</span></a><span class="text.normal">.</span></p></section><section class="property" documented="true" local-identifier="package" id="Import.package"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.package"><span class="text.normal">package</span></a><span class="abstract-type">property</span></h1><p><span class="text.normal">Return a </span><a class="invalid" href="#Route"><span class="unknown">Route</span></a><span class="text.normal"> to the module's package.</span><span class="text.line-break"> </span><span class="text.normal">If the </span><a class="invalid" href="#Route"><span class="unknown">Route</span></a><span class="text.normal"> is referencing a package, return </span><a class="invalid" href="#self"><span class="unknown">self</span></a><span class="text.normal">.</span></p><div class="admonition-WARNING"><table><tr><td><span class="admonition.icon"></span></td><td><span class="admonition.severity">WARNING</span></td></tr><tr><td></td><td><div class="admonition.content"><p><span class="text.normal">This will be a method.</span></p></div></td></tr></table></div></section><section class="property" documented="false" local-identifier="root" id="Import.root"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.root"><span class="text.normal">root</span></a><span class="abstract-type">property</span></h1></section><section class="property" documented="true" local-identifier="loader" id="Import.loader"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.loader"><span class="text.normal">loader</span></a><span class="abstract-type">property</span></h1><p><span class="text.normal">The loader of the module.</span></p></section><section class="method" documented="true" local-identifier="spec" id="Import.spec"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.spec"><span class="text.normal">spec</span></a><span class="abstract-type">method</span></h1><p><code class="signature">spec(self)</code></p><p><span class="text.normal">The spec for loading the module.</span></p></section><section class="method" documented="true" local-identifier="exists" id="Import.exists"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.exists"><span class="text.normal">exists</span></a><span class="abstract-type">method</span></h1><p><code class="signature">exists(self)</code></p><p><span class="text.normal">Whether or not the module exists inside the Python paths.</span><span class="text.line-break"> </span><span class="text.normal">However, the module may not be importable.</span></p></section><section class="method" documented="true" local-identifier="is_container" id="Import.is_container"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.is_container"><span class="text.normal">is_container</span></a><span class="abstract-type">method</span></h1><p><code class="signature">is_container(self)</code></p><p><span class="text.normal">Interrogate the module's loader as to whether or not it's a "package module".</span></p></section><section class="data" documented="false" local-identifier="is_package" id="Import.is_package"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.is_package"><span class="text.normal">is_package</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">is_package = is_container
</code></pre></section><section class="method" documented="true" local-identifier="real" id="Import.real"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.real"><span class="text.normal">real</span></a><span class="abstract-type">method</span></h1><p><code class="signature">real(self)</code></p><p><span class="text.normal">The "real" portion of the Import.</span><span class="text.line-break"> </span><span class="text.normal">Greatest Absolute Route that </span><span class="text.emphasis">actually exists</span><span class="text.normal"> on the file system.</span></p><p><a class="invalid" href="#None"><span class="unknown">None</span></a><span class="text.normal"> if no parts are real, and </span><a class="factor-local" href="#Import.real.Parameters.self"><span class="parameter">self</span></a><span class="text.normal"> if the entire route exists.</span></p></section><section class="method" documented="true" local-identifier="get_last_modified" id="Import.get_last_modified"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.get_last_modified"><span class="text.normal">get_last_modified</span></a><span class="abstract-type">method</span></h1><p><code class="signature">get_last_modified(self)</code></p><p><span class="text.normal">Return the modification time of the module's file as a chronometry Timestamp.</span></p></section><section class="method" documented="true" local-identifier="stack" id="Import.stack"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.stack"><span class="text.normal">stack</span></a><span class="abstract-type">method</span></h1><p><code class="signature">stack(self)</code></p><p><span class="text.normal">Return a list of module objects. The first being the outermost package module, the</span><span class="text.line-break"> </span><span class="text.normal">last being the module being pointed to, subject module, and the between being the</span><span class="text.line-break"> </span><span class="text.normal">packages leading to the </span><a class="factor-local" href="#Import.stack.Parameters.self"><span class="parameter">self</span></a><span class="text.normal">.</span></p></section><section class="method" documented="true" local-identifier="scan" id="Import.scan"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.scan"><span class="text.normal">scan</span></a><span class="abstract-type">method</span></h1><p><code class="signature">scan(self, attribute)</code></p><p><span class="text.normal">Scan the </span><a class="factor-local" href="#Import.stack"><span class="method">stack</span></a><span class="text.normal"> of modules for the given attribute returning a pair</span><span class="text.line-break"> </span><span class="text.normal">containing the module and the object accessed with the </span><a class="factor-local" href="#Import.scan.Parameters.attribute"><span class="parameter">attribute</span></a><span class="text.normal">.</span></p></section><section class="method" documented="true" local-identifier="module" id="Import.module"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.module"><span class="text.normal">module</span></a><span class="abstract-type">method</span></h1><p><code class="signature">module(self)</code></p><p><span class="text.normal">Return the module that is being referred to by the path.</span></p></section><section class="method" documented="true" local-identifier="subnodes" id="Import.subnodes"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.subnodes"><span class="text.normal">subnodes</span></a><span class="abstract-type">method</span></h1><p><code class="signature">subnodes(self)</code></p><p><span class="text.normal">Return a pairs of sequences containing routes to the subnodes of the route.</span></p></section><section class="method" documented="true" local-identifier="tree" id="Import.tree"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.tree"><span class="text.normal">tree</span></a><span class="abstract-type">method</span></h1><p><code class="signature">tree(self)</code></p><p><span class="text.normal">Return a package's full tree as a pair of lists.</span></p></section><section class="method" documented="true" local-identifier="file" id="Import.file"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.file"><span class="text.normal">file</span></a><span class="abstract-type">method</span></h1><p><code class="signature">file(self)</code></p><p><span class="text.normal">Get the </span><a class="project-local" href="../files#Path"><span class="factor-element">fault.system.files.Path</span></a><span class="text.normal"> instance pointing to the module's file.</span></p></section><section class="method" documented="true" local-identifier="directory" id="Import.directory"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.directory"><span class="text.normal">directory</span></a><span class="abstract-type">method</span></h1><p><code class="signature">directory(self)</code></p><p><span class="text.normal">The package directory of the module.</span></p></section><section class="method" documented="true" local-identifier="cache" id="Import.cache"><h1><span class="prefix"></span><a class="section" href="#Import">Import</a><a class="title" href="#Import.cache"><span class="text.normal">cache</span></a><span class="abstract-type">method</span></h1><p><code class="signature">cache(self)</code></p><p><span class="text.normal">The </span><code class="filename">__pycache__</code><span class="text.normal"> directory associated with the module's file.</span></p></section></section><section class="class" documented="true" local-identifier="Reference" id="Reference"><h1><span class="prefix"></span><a class="title" href="#Reference"><span class="text.normal">Reference</span></a><span class="abstract-type">class</span></h1><div class="inheritance"><code class="type"><a class="invalid" href="#object"><span class="unknown">object</span></a></code></div><p><span class="text.normal">Field reference for passing by reference.</span></p><p><span class="text.normal">Primarily used in cases where the origin of a value should be retained</span><span class="text.line-break"> </span><span class="text.normal">for structural purposes or origin tracking.</span></p><div class="admonition-DEVELOPMENT"><table><tr><td><span class="admonition.icon"></span></td><td><span class="admonition.severity">DEVELOPMENT</span></td></tr><tr><td></td><td><div class="admonition.content"><p><span class="text.normal">May not be the appropriate location for this class.</span><span class="text.line-break"> </span><span class="text.normal">While an environment variable references are the primary use-case,</span><span class="text.line-break"> </span><span class="text.normal">there are certainly others.</span></p><p><span class="text.normal">Also, </span><a class="context-local" href="../../route/types#Selector"><span class="factor-element">fault.route.types.Selector</span></a><span class="text.normal"> might be a more appropriate baseclass;</span><span class="text.line-break"> </span><span class="text.normal">load instead of value, store for update/overwrite.</span></p></div></td></tr></table></div><section class="data" documented="false" local-identifier="__slots__" id="Reference.__slots__"><h1><span class="prefix"></span><a class="section" href="#Reference">Reference</a><a class="title" href="#Reference.__slots__"><span class="text.normal">__slots__</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">__slots__ = ('type', 'container_get', 'identifier', 'default')
	@classmethod
</code></pre></section><section class="classmethod" documented="false" local-identifier="environment" id="Reference.environment"><h1><span class="prefix"></span><a class="section" href="#Reference">Reference</a><a class="title" href="#Reference.environment"><span class="text.normal">environment</span></a><span class="abstract-type">classmethod</span></h1><p><code class="signature">environment(Class, identifier, default)</code></p></section><section class="classmethod" documented="true" local-identifier="strings" id="Reference.strings"><h1><span class="prefix"></span><a class="section" href="#Reference">Reference</a><a class="title" href="#Reference.strings"><span class="text.normal">strings</span></a><span class="abstract-type">classmethod</span></h1><p><code class="signature">strings(Class, iterator)</code></p><p><span class="text.normal">Process the iterator producing References or values such that</span><span class="text.line-break"> </span><span class="text.normal">values are emitted directly and references are only emitted</span><span class="text.line-break"> </span><span class="text.normal">if their determined value is not None.</span></p></section><section class="method" documented="false" local-identifier="__init__" id="Reference.__init__"><h1><span class="prefix"></span><a class="section" href="#Reference">Reference</a><a class="title" href="#Reference.__init__"><span class="text.normal">__init__</span></a><span class="abstract-type">method</span></h1><p><code class="signature">__init__(self, type, get, identifier)</code></p></section><section class="method" documented="true" local-identifier="__str__" id="Reference.__str__"><h1><span class="prefix"></span><a class="section" href="#Reference">Reference</a><a class="title" href="#Reference.__str__"><span class="text.normal">__str__</span></a><span class="abstract-type">method</span></h1><p><code class="signature">__str__(self)</code></p><p><span class="text.normal">Return the string form of the container's value for the configured</span><span class="text.line-break"> </span><span class="text.normal">key when present, otherwise the configured default.</span></p><p><span class="text.normal">If the resolved value is </span><a class="invalid" href="#None"><span class="unknown">None</span></a><span class="text.normal">, an empty string will be returned.</span></p></section><section class="method" documented="true" local-identifier="item" id="Reference.item"><h1><span class="prefix"></span><a class="section" href="#Reference">Reference</a><a class="title" href="#Reference.item"><span class="text.normal">item</span></a><span class="abstract-type">method</span></h1><p><code class="signature">item(self)</code></p><p><span class="text.normal">Return the </span><a class="invalid" href="#identifier"><span class="unknown">identifier</span></a><span class="text.normal"> - </span><a class="factor-local" href="#Reference.value"><span class="method">value</span></a><span class="text.normal"> pair.</span></p></section><section class="method" documented="true" local-identifier="items" id="Reference.items"><h1><span class="prefix"></span><a class="section" href="#Reference">Reference</a><a class="title" href="#Reference.items"><span class="text.normal">items</span></a><span class="abstract-type">method</span></h1><p><code class="signature">items(self)</code></p><p><span class="text.normal">Return </span><a class="factor-local" href="#Reference.item"><span class="method">item</span></a><span class="text.normal"> in plural form; iterator that always returns a single pair.</span></p></section><section class="method" documented="true" local-identifier="value" id="Reference.value"><h1><span class="prefix"></span><a class="section" href="#Reference">Reference</a><a class="title" href="#Reference.value"><span class="text.normal">value</span></a><span class="abstract-type">method</span></h1><p><code class="signature">value(self)</code></p><p><span class="text.normal">Return the value of the container's entry using </span><a class="invalid" href="#identifier"><span class="unknown">identifier</span></a><span class="text.normal"> as the key.</span><span class="text.line-break"> </span><span class="text.normal">If no key exists, </span><a class="invalid" href="#default"><span class="unknown">default</span></a><span class="text.normal"> will be returned.</span></p></section></section><h1 class="footing"></h1></main></body></html>