<html root="2"><head><title>fault.system.factors</title><meta charset="utf-8"/><link as="style" rel="preload" href="../../.legacy-web/core.css"></link><link as="style" rel="preload" href="../../.legacy-web/factor.css"></link><link rel="stylesheet" href="../../.legacy-web/core.css"></link><link rel="stylesheet" href="../../.legacy-web/factor.css"></link></head><body><main><h1><span class="prefix"></span><div class="page-subject"><img class="icon" src="../../.factor-type-icon/if.fault.io/python-module.svg"></img><span class="subject-identifier">factors</span><span class="element-status"><span class="misses">30</span><span class="completion-isolation"></span><span class="completion">79%</span></span><a href="http://if.fault.io/factors/python.module"><code class="type">python.module</code></a></div><div class="page-context"><a href="../"><img class="icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTYiIGhlaWdodD0iMjU2Ij48dGV4dCB4PSI0IiB5PSIwLjg4ZW0iIGZvbnQtc2l6ZT0iMjQ4Ij7impnvuI88L3RleHQ+PC9zdmc+"></img></a><span class="context-identifier">fault.system</span></div></h1><section class="chapter"><p><span class="text.normal">Module finder and loader for Factored Projects.</span></p></section><section class="import" documented="false" local-identifier="importlib" id="importlib"><h1><span class="prefix"></span><a class="title" href="#importlib"><span class="text.normal">importlib</span></a><span class="element-status"><span class="nothing-missed">0</span></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="files" id="files"><h1><span class="prefix"></span><a class="title" href="#files"><span class="text.normal">files</span></a><span class="element-status"><span class="nothing-missed">0</span></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="lsf" id="lsf"><h1><span class="prefix"></span><a class="title" href="#lsf"><span class="text.normal">lsf</span></a><span class="element-status"><span class="nothing-missed">0</span></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="Segment" id="Segment"><h1><span class="prefix"></span><a class="title" href="#Segment"><span class="text.normal">Segment</span></a><span class="element-status"><span class="nothing-missed">0</span></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="class" documented="true" local-identifier="IntegralFinder" id="IntegralFinder"><h1><span class="prefix"></span><a class="title" href="#IntegralFinder"><span class="text.normal">IntegralFinder</span></a><span class="element-status"><span class="nothing-missed">0</span></span><div class="factor-element-meta"><span class="abstract-type">class</span></div></h1><div class="inheritance"><code class="type"><a class="invalid" href="#object"><span class="unknown">object</span></a></code></div><p><span class="text.normal">Select an image based on the configured variants querying the connected factor paths.</span></p><section class="data" documented="false" local-identifier="suffixes" id="IntegralFinder.suffixes"><h1><span class="prefix"></span><a class="section" href="#IntegralFinder">IntegralFinder</a><a class="title" href="#IntegralFinder.suffixes"><span class="text.normal">suffixes</span></a><span class="element-status"><span class="nothing-missed">0</span></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">suffixes = ['.py']
</code></pre></section><section class="data" documented="false" local-identifier="ModuleSpec" id="IntegralFinder.ModuleSpec"><h1><span class="prefix"></span><a class="section" href="#IntegralFinder">IntegralFinder</a><a class="title" href="#IntegralFinder.ModuleSpec"><span class="text.normal">ModuleSpec</span></a><span class="element-status"><span class="nothing-missed">0</span></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">ModuleSpec = importlib.machinery.ModuleSpec
</code></pre></section><section class="data" documented="false" local-identifier="ExtensionFileLoader" id="IntegralFinder.ExtensionFileLoader"><h1><span class="prefix"></span><a class="section" href="#IntegralFinder">IntegralFinder</a><a class="title" href="#IntegralFinder.ExtensionFileLoader"><span class="text.normal">ExtensionFileLoader</span></a><span class="element-status"><span class="nothing-missed">0</span></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">ExtensionFileLoader = importlib.machinery.ExtensionFileLoader
</code></pre></section><section class="class" documented="true" local-identifier="Loader" id="IntegralFinder.Loader"><h1><span class="prefix"></span><a class="section" href="#IntegralFinder">IntegralFinder</a><a class="title" href="#IntegralFinder.Loader"><span class="text.normal">Loader</span></a><span class="element-status"><span class="nothing-missed">0</span></span><div class="factor-element-meta"><span class="abstract-type">class</span></div></h1><div class="inheritance"><code class="type"><a class="none" href="http://fault.io/dev/null"><span class="invalid">importlib.machinery.SourceFileLoader</span></a></code></div><p><span class="text.normal">Loader for compiled Python factors. Compiled modules are not checked</span><span class="text.line-break"> </span><span class="text.normal">against the source unlike Python's builtin loader.</span></p><section class="data" documented="false" local-identifier="_compile" id="IntegralFinder.Loader._compile"><h1><span class="prefix"></span><a class="section" href="#IntegralFinder">IntegralFinder</a><a class="section" href="#IntegralFinder.Loader">Loader</a><a class="title" href="#IntegralFinder.Loader._compile"><span class="text.normal">_compile</span></a><span class="element-status"><span class="nothing-missed">0</span></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">_compile = staticmethod(importlib._bootstrap_external._compile_bytecode)
</code></pre></section><section class="method" documented="false" local-identifier="__init__" id="IntegralFinder.Loader.__init__"><h1><span class="prefix"></span><a class="section" href="#IntegralFinder">IntegralFinder</a><a class="section" href="#IntegralFinder.Loader">Loader</a><a class="title" href="#IntegralFinder.Loader.__init__"><span class="text.normal">__init__</span></a><span class="element-status"><span class="nothing-missed">0</span></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">__init__(self, bytecode, fullname, path)</code></p></section><section class="classmethod" documented="true" local-identifier="from_nothing" id="IntegralFinder.Loader.from_nothing"><h1><span class="prefix"></span><a class="section" href="#IntegralFinder">IntegralFinder</a><a class="section" href="#IntegralFinder.Loader">Loader</a><a class="title" href="#IntegralFinder.Loader.from_nothing"><span class="text.normal">from_nothing</span></a><span class="element-status"><span class="nothing-missed">0</span></span><div class="factor-element-meta"><span class="abstract-type">classmethod</span></div></h1><p><code class="signature">from_nothing(Class, *args)</code></p><p><span class="text.normal">Create the </span><a class="factor-local" href="#IntegralFinder.Loader"><span class="class">Loader</span></a><span class="text.normal"> instance with </span><a class="factor-local" href="#IntegralFinder.Loader.get_code"><span class="method">get_code</span></a><span class="text.normal"> overridden to return</span><span class="text.line-break"> </span><span class="text.normal">a code object created from a </span><code class="">pass</code><span class="text.normal"> statement.</span></p></section><section class="method" documented="false" local-identifier="exec_module" id="IntegralFinder.Loader.exec_module"><h1><span class="prefix"></span><a class="section" href="#IntegralFinder">IntegralFinder</a><a class="section" href="#IntegralFinder.Loader">Loader</a><a class="title" href="#IntegralFinder.Loader.exec_module"><span class="text.normal">exec_module</span></a><span class="element-status"><span class="nothing-missed">0</span></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">exec_module(self, module)</code></p></section><section class="method" documented="false" local-identifier="get_code" id="IntegralFinder.Loader.get_code"><h1><span class="prefix"></span><a class="section" href="#IntegralFinder">IntegralFinder</a><a class="section" href="#IntegralFinder.Loader">Loader</a><a class="title" href="#IntegralFinder.Loader.get_code"><span class="text.normal">get_code</span></a><span class="element-status"><span class="misses">2</span><span class="completion-isolation"></span><span class="completion">60%</span></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">get_code(self, fullname)</code></p></section><section class="method" documented="false" local-identifier="set_data" id="IntegralFinder.Loader.set_data"><h1><span class="prefix"></span><a class="section" href="#IntegralFinder">IntegralFinder</a><a class="section" href="#IntegralFinder.Loader">Loader</a><a class="title" href="#IntegralFinder.Loader.set_data"><span class="text.normal">set_data</span></a><span class="element-status"><span class="misses">1</span><span class="completion-isolation"></span><span class="completion">0%</span></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">set_data(self, *args, **kw)</code></p></section></section><section class="method" documented="true" local-identifier="__init__" id="IntegralFinder.__init__"><h1><span class="prefix"></span><a class="section" href="#IntegralFinder">IntegralFinder</a><a class="title" href="#IntegralFinder.__init__"><span class="text.normal">__init__</span></a><span class="element-status"><span class="nothing-missed">0</span></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">__init__(self, python_bytecode_variants, extension_variants)</code></p><p><span class="text.normal">Initialize a finder instance for use with the given variants.</span></p></section><section class="method" documented="true" local-identifier="connect" id="IntegralFinder.connect"><h1><span class="prefix"></span><a class="section" href="#IntegralFinder">IntegralFinder</a><a class="title" href="#IntegralFinder.connect"><span class="text.normal">connect</span></a><span class="element-status"><span class="nothing-missed">0</span></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">connect(self, route)</code></p><p><span class="text.normal">Add the route to finder connecting its subdirectories for import purposes.</span></p><p><span class="text.normal">Similar to adding a filesystem path to Python's </span><a class="invalid" href="#sys.path"><span class="unknown">sys.path</span></a><span class="text.normal">.</span></p></section><section class="method" documented="true" local-identifier="disconnect" id="IntegralFinder.disconnect"><h1><span class="prefix"></span><a class="section" href="#IntegralFinder">IntegralFinder</a><a class="title" href="#IntegralFinder.disconnect"><span class="text.normal">disconnect</span></a><span class="element-status"><span class="misses">22</span><span class="completion-isolation"></span><span class="completion">0%</span></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">disconnect(self, route)</code></p><p><span class="text.normal">Remove a route from the finder's set eliminating any relevant index entries.</span></p></section><section class="classmethod" documented="false" local-identifier="invalidate_caches" id="IntegralFinder.invalidate_caches"><h1><span class="prefix"></span><a class="section" href="#IntegralFinder">IntegralFinder</a><a class="title" href="#IntegralFinder.invalidate_caches"><span class="text.normal">invalidate_caches</span></a><span class="element-status"><span class="misses">1</span><span class="completion-isolation"></span><span class="completion">0%</span></span><div class="factor-element-meta"><span class="abstract-type">classmethod</span></div></h1><p><code class="signature">invalidate_caches(self)</code></p></section><section class="method" documented="true" local-identifier="find" id="IntegralFinder.find"><h1><span class="prefix"></span><a class="section" href="#IntegralFinder">IntegralFinder</a><a class="title" href="#IntegralFinder.find"><span class="text.normal">find</span></a><span class="element-status"><span class="nothing-missed">0</span></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">find(self, name)</code></p><p><span class="text.normal">Retrieve the product with a root that matches the start of the given </span><a class="factor-local" href="#IntegralFinder.find.Parameters.name"><span class="parameter">name</span></a><span class="text.normal">.</span></p></section><section class="method" documented="true" local-identifier="find_spec" id="IntegralFinder.find_spec"><h1><span class="prefix"></span><a class="section" href="#IntegralFinder">IntegralFinder</a><a class="title" href="#IntegralFinder.find_spec"><span class="text.normal">find_spec</span></a><span class="element-status"><span class="nothing-missed">0</span></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">find_spec(self, name, path)</code></p><p><span class="text.normal">Using the </span><a class="invalid" href="#index"><span class="unknown">index</span></a><span class="text.normal">, check for the presence of </span><a class="invalid" href="#name's"><span class="unknown">name's</span></a><span class="text.normal"> initial package.</span><span class="text.line-break"> </span><span class="text.normal">If found, the images contained by the connected directory will be</span><span class="text.line-break"> </span><span class="text.normal">used to load either an extension module or a Python bytecode module.</span></p></section><section class="classmethod" documented="true" local-identifier="create" id="IntegralFinder.create"><h1><span class="prefix"></span><a class="section" href="#IntegralFinder">IntegralFinder</a><a class="title" href="#IntegralFinder.create"><span class="text.normal">create</span></a><span class="element-status"><span class="nothing-missed">0</span></span><div class="factor-element-meta"><span class="abstract-type">classmethod</span></div></h1><p><code class="signature">create(Class, system, python, host)</code></p><p><span class="text.normal">Construct a standard loader selecting images with the given </span><a class="factor-local" href="#IntegralFinder.create.Parameters.form"><span class="parameter">form</span></a><span class="text.normal">.</span></p></section></section><section class="function" documented="true" local-identifier="setup" id="setup"><h1><span class="prefix"></span><a class="title" href="#setup"><span class="text.normal">setup</span></a><span class="element-status"><span class="misses">4</span><span class="completion-isolation"></span><span class="completion">75%</span></span><div class="factor-element-meta"><span class="abstract-type">function</span></div></h1><p><code class="signature">setup()</code></p><p><span class="text.normal">Create and install a configured </span><a class="factor-local" href="#IntegralFinder"><span class="class">IntegralFinder</span></a><span class="text.normal">.</span></p><p><span class="text.normal">The new finder is assigned to </span><a class="invalid" href="#finder"><span class="unknown">finder</span></a><span class="text.normal"> and its </span><a class="context-local" href="../../project/system#Context"><span class="factor-element">fault.project.system.Context</span></a><span class="text.normal"> to </span><a class="invalid" href="#context"><span class="unknown">context</span></a><span class="text.normal">.</span><span class="text.line-break"> </span><span class="text.normal">This is considered process global data and </span><a class="invalid" href="#context"><span class="unknown">context</span></a><span class="text.normal"> the method that should</span><span class="text.line-break"> </span><span class="text.normal">be used to resolve factors that are intended for application support.</span></p><p><span class="text.normal">If called multiple times, a new finder will be created and the assignments</span><span class="text.line-break"> </span><span class="text.normal">will be overwritten. However, the old finder will remain active.</span></p></section><h1 class="footing"></h1></main></body></html>