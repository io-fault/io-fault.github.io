<html root="2"><head><title>fault.text.render</title><meta charset="utf-8"/><link as="style" rel="preload" href="../../.legacy-web/core.css"></link><link as="style" rel="preload" href="../../.legacy-web/factor.css"></link><link rel="stylesheet" href="../../.legacy-web/core.css"></link><link rel="stylesheet" href="../../.legacy-web/factor.css"></link></head><body><main><h1><span class="prefix"></span><div class="page-subject"><img class="icon" src="../../.factor-type-icon/if.fault.io/python-module.svg"></img><span class="subject-identifier">render</span><span class="element-status"><span class="nothing-missed">0</span></span><a href="http://if.fault.io/factors/python.module"><code class="type">python.module</code></a></div><div class="page-context"><a href="../"><img class="icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTYiIGhlaWdodD0iMjU2Ij48dGV4dCB4PSI0IiB5PSIwLjg4ZW0iIGZvbnQtc2l6ZT0iMjQ4Ij7wn5OcPC90ZXh0Pjwvc3ZnPg=="></img></a><span class="context-identifier">fault.text</span></div></h1><section class="chapter"><p><span class="text.normal">Format text elements into text images.</span></p><p><span class="text.normal">Paragraph level formatting functions usually return </span><a class="factor-local" href="#Fragment"><span class="data">Fragment</span></a><span class="text.normal"> while section-level</span><span class="text.line-break"> </span><span class="text.normal">returns </span><a class="factor-local" href="#Image"><span class="data">Image</span></a><span class="text.normal">.</span></p><p><a class="factor-local" href="#chapter"><span class="function">chapter</span></a><span class="text.normal"> and </span><a class="factor-local" href="#elements"><span class="function">elements</span></a><span class="text.normal"> are the primary entry points where chapter takes a single</span><span class="text.line-break"> </span><code class="">chapter</code><span class="text.normal"> element and elements takes a sequence of arbitrary elements.</span></p></section><section class="unspecified" documented="true" local-identifier="Types" id="Types"><h1><span class="prefix"></span><a class="title" href="#Types"><span class="text.normal">Types</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><dl class="text.mapping"><div id="Types.Fragment" documented="true"><dt><a class="dkn" href="#Types.Fragment"></a><span class="directory-key"><span class="text.normal">Fragment</span></span></dt><dd><div class="status"></div><p><span class="text.normal">A string without newlines.</span></p></dd></div><div id="Types.Line" documented="true"><dt><a class="dkn" href="#Types.Line"></a><span class="directory-key"><span class="text.normal">Line</span></span></dt><dd><div class="status"></div><p><span class="text.normal">A sequence of </span><a class="factor-local" href="#Fragment"><span class="data">Fragment</span></a><span class="text.normal"> instances.</span></p></dd></div><div id="Types.Image" documented="true"><dt><a class="dkn" href="#Types.Image"></a><span class="directory-key"><span class="text.normal">Image</span></span></dt><dd><div class="status"></div><p><span class="text.normal">An iterator producing </span><a class="factor-local" href="#Line"><span class="data">Line</span></a><span class="text.normal"> instances.</span></p></dd></div></dl></section><section class="import" documented="false" local-identifier="Sequence" id="Sequence"><h1><span class="prefix"></span><a class="title" href="#Sequence"><span class="text.normal">Sequence</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="Iterable" id="Iterable"><h1><span class="prefix"></span><a class="title" href="#Iterable"><span class="text.normal">Iterable</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="types" id="types"><h1><span class="prefix"></span><a class="title" href="#types"><span class="text.normal">types</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="document" id="document"><h1><span class="prefix"></span><a class="title" href="#document"><span class="text.normal">document</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="data" documented="false" local-identifier="Fragment" id="Fragment"><h1><span class="prefix"></span><a class="title" href="#Fragment"><span class="text.normal">Fragment</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">Fragment = str
</code></pre></section><section class="data" documented="false" local-identifier="Line" id="Line"><h1><span class="prefix"></span><a class="title" href="#Line"><span class="text.normal">Line</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">Line = Sequence[Fragment]
</code></pre></section><section class="data" documented="false" local-identifier="Image" id="Image"><h1><span class="prefix"></span><a class="title" href="#Image"><span class="text.normal">Image</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">Image = Iterable[Line]
</code></pre></section><section class="function" documented="true" local-identifier="syntax" id="syntax"><h1><span class="prefix"></span><a class="title" href="#syntax"><span class="text.normal">syntax</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div><code class="type"><a class="factor-local" href="#Image"><span class="data">Image</span></a></code></h1><p><code class="signature">syntax(lines, syntype, qualifier, adjustment)</code></p><p><span class="text.normal">Generator producing sequences of line text for a syntax element.</span></p><section class="unspecified" documented="true" local-identifier="Parameters" id="syntax.Parameters"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#syntax">syntax</a><a class="title" href="#syntax.Parameters"><span class="text.normal">Parameters</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><dl class="text.mapping"><div id="syntax.Parameters.lines" class="parameter" documented="true"><dt><a class="dkn" href="#syntax.Parameters.lines"></a><span class="directory-key"><code class="parameter">lines</code></span></dt><dd><div class="status"></div><ul class="text.set"><li><p><code class="type.syntax">Iterable[str]</code></p></li></ul><p><span class="text.normal">Iterator of syntax lines without newlines.</span></p></dd></div><div id="syntax.Parameters.syntype" class="parameter" documented="true"><dt><a class="dkn" href="#syntax.Parameters.syntype"></a><span class="directory-key"><code class="parameter">syntype</code></span></dt><dd><div class="status"></div><ul class="text.set"><li><p><code class="type.syntax">str</code></p></li><li><p><a class="type" href="#str"><span class="invalid">str</span></a></p></li></ul><p><span class="text.normal">The syntax type of </span><a class="factor-local" href="#syntax.Parameters.lines"><span class="parameter">lines</span></a><span class="text.normal">.</span></p></dd></div><div id="syntax.Parameters.qualifier" class="parameter" documented="true"><dt><a class="dkn" href="#syntax.Parameters.qualifier"></a><span class="directory-key"><code class="parameter">qualifier</code></span></dt><dd><div class="status"></div><p><span class="text.normal">The suffix of the syntax command line.</span></p></dd></div><div id="syntax.Parameters.adjustment" class="parameter" documented="true"><dt><a class="dkn" href="#syntax.Parameters.adjustment"></a><span class="directory-key"><code class="parameter">adjustment</code></span></dt><dd><div class="status"></div><p><span class="text.normal">Indentation level adjustment.</span></p></dd></div></dl></section></section><section class="function" documented="true" local-identifier="section_path" id="section_path"><h1><span class="prefix"></span><a class="title" href="#section_path"><span class="text.normal">section_path</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div><code class="type"><a class="factor-local" href="#Line"><span class="data">Line</span></a></code></h1><p><code class="signature">section_path(rdepth, rmultiple, *path)</code></p><p><span class="text.normal">Construct a section selector from a relative depth and a section identifier path.</span></p></section><section class="function" documented="true" local-identifier="ambiguous_reference" id="ambiguous_reference"><h1><span class="prefix"></span><a class="title" href="#ambiguous_reference"><span class="text.normal">ambiguous_reference</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div><code class="type"><a class="factor-local" href="#Fragment"><span class="data">Fragment</span></a></code></h1><p><code class="signature">ambiguous_reference(string)</code></p><p><span class="text.normal">Prefix the given string with an ampersand.</span></p></section><section class="function" documented="true" local-identifier="section_reference" id="section_reference"><h1><span class="prefix"></span><a class="title" href="#section_reference"><span class="text.normal">section_reference</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div><code class="type"><a class="factor-local" href="#Fragment"><span class="data">Fragment</span></a></code></h1><p><code class="signature">section_reference(section_selector)</code></p><p><span class="text.normal">Prefix the given string with an ampersand after enclosing it with brackets.</span></p></section><section class="function" documented="true" local-identifier="hyperlink" id="hyperlink"><h1><span class="prefix"></span><a class="title" href="#hyperlink"><span class="text.normal">hyperlink</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div><code class="type"><a class="factor-local" href="#Fragment"><span class="data">Fragment</span></a></code></h1><p><code class="signature">hyperlink(url)</code></p><p><span class="text.normal">Prefix the given string with an ampersand after enclosing it with angle brackets.</span></p></section><section class="function" documented="true" local-identifier="literal" id="literal"><h1><span class="prefix"></span><a class="title" href="#literal"><span class="text.normal">literal</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div><code class="type"><a class="factor-local" href="#Fragment"><span class="data">Fragment</span></a></code></h1><p><code class="signature">literal(string)</code></p><p><span class="text.normal">Surround the string with grave-accents and replace any grave-accent within with two.</span></p></section><section class="data" documented="false" local-identifier="_p_fragments" id="_p_fragments"><h1><span class="prefix"></span><a class="title" href="#_p_fragments"><span class="text.normal">_p_fragments</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">_p_fragments = {
	('reference', 'ambiguous'): ambiguous_reference,
	('reference', 'hyperlink'): hyperlink,
	('reference', 'section'): section_reference,
	('literal', 'grave-accent'): literal,
	('text', 'normal'): (lambda x: x),
	('text', 'line-break'): (lambda x: " "),
	('text', 'emphasis'): (lambda x: x),
}
</code></pre></section><section class="function" documented="true" local-identifier="paragraph" id="paragraph"><h1><span class="prefix"></span><a class="title" href="#paragraph"><span class="text.normal">paragraph</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div><code class="type"><a class="factor-local" href="#Image"><span class="data">Image</span></a></code></h1><p><code class="signature">paragraph(para)</code></p><p><span class="text.normal">Generator producing an </span><a class="factor-local" href="#Image"><span class="data">Image</span></a><span class="text.normal"> representing the given </span><a class="project-local" href="../types#Paragraph"><span class="factor-element">fault.text.types.Paragraph</span></a><span class="text.normal">.</span></p></section><section class="function" documented="false" local-identifier="inline_fragment" id="inline_fragment"><h1><span class="prefix"></span><a class="title" href="#inline_fragment"><span class="text.normal">inline_fragment</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div><code class="type"><a class="factor-local" href="#Fragment"><span class="data">Fragment</span></a></code></h1><p><code class="signature">inline_fragment(frag)</code></p></section><section class="function" documented="false" local-identifier="_chapter" id="_chapter"><h1><span class="prefix"></span><a class="title" href="#_chapter"><span class="text.normal">_chapter</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div></h1><p><code class="signature">_chapter(depth, element)</code></p></section><section class="function" documented="false" local-identifier="_section" id="_section"><h1><span class="prefix"></span><a class="title" href="#_section"><span class="text.normal">_section</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div></h1><p><code class="signature">_section(depth, element)</code></p></section><section class="function" documented="false" local-identifier="_syn" id="_syn"><h1><span class="prefix"></span><a class="title" href="#_syn"><span class="text.normal">_syn</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div></h1><p><code class="signature">_syn(depth, syntax)</code></p></section><section class="function" documented="false" local-identifier="_para" id="_para"><h1><span class="prefix"></span><a class="title" href="#_para"><span class="text.normal">_para</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div></h1><p><code class="signature">_para(depth, element)</code></p></section><section class="function" documented="false" local-identifier="_list" id="_list"><h1><span class="prefix"></span><a class="title" href="#_list"><span class="text.normal">_list</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div></h1><p><code class="signature">_list(depth, element, list_type)</code></p></section><section class="function" documented="false" local-identifier="_sequence" id="_sequence"><h1><span class="prefix"></span><a class="title" href="#_sequence"><span class="text.normal">_sequence</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div></h1><p><code class="signature">_sequence(depth, element)</code></p></section><section class="function" documented="false" local-identifier="_set" id="_set"><h1><span class="prefix"></span><a class="title" href="#_set"><span class="text.normal">_set</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div></h1><p><code class="signature">_set(depth, element)</code></p></section><section class="function" documented="false" local-identifier="_directory" id="_directory"><h1><span class="prefix"></span><a class="title" href="#_directory"><span class="text.normal">_directory</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div></h1><p><code class="signature">_directory(depth, element)</code></p></section><section class="function" documented="false" local-identifier="_admonition" id="_admonition"><h1><span class="prefix"></span><a class="title" href="#_admonition"><span class="text.normal">_admonition</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div></h1><p><code class="signature">_admonition(depth, element)</code></p></section><section class="data" documented="false" local-identifier="_index" id="_index"><h1><span class="prefix"></span><a class="title" href="#_index"><span class="text.normal">_index</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">_index = {
	'section': _section,
	'chapter': _chapter,
	'paragraph': _para,
	'syntax': _syn,
	'admonition': _admonition,

	'set': _set,
	'sequence': _sequence,
	'dictionary': _directory,
	'directory': _directory,

	# No-op element type often providing additional metadata.
	'void': (lambda x, y: ()),
}
</code></pre></section><section class="function" documented="false" local-identifier="_tree" id="_tree"><h1><span class="prefix"></span><a class="title" href="#_tree"><span class="text.normal">_tree</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div></h1><p><code class="signature">_tree(depth, elements)</code></p></section><section class="function" documented="true" local-identifier="tree" id="tree"><h1><span class="prefix"></span><a class="title" href="#tree"><span class="text.normal">tree</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div><code class="type"><a class="factor-local" href="#Image"><span class="data">Image</span></a></code></h1><p><code class="signature">tree(element, adjustment, indentation, newline)</code></p><p><span class="text.normal">Produce the image representing the given element including newline characters.</span></p><section class="unspecified" documented="true" local-identifier="Parameters" id="tree.Parameters"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#tree">tree</a><a class="title" href="#tree.Parameters"><span class="text.normal">Parameters</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><dl class="text.mapping"><div id="tree.Parameters.element" class="parameter" documented="true"><dt><a class="dkn" href="#tree.Parameters.element"></a><span class="directory-key"><code class="parameter">element</code></span></dt><dd><div class="status"></div><p><span class="text.normal">Any document element.</span></p></dd></div><div id="tree.Parameters.adjustment" class="parameter" documented="true"><dt><a class="dkn" href="#tree.Parameters.adjustment"></a><span class="directory-key"><code class="parameter">adjustment</code></span></dt><dd><div class="status"></div><ul class="text.set"><li><p><code class="type.syntax">int</code></p></li><li><p><a class="type" href="#int"><span class="invalid">int</span></a></p></li></ul><p><span class="text.normal">The indentation difference to render Lines with. Zero by default.</span></p></dd></div><div id="tree.Parameters.indentation" class="parameter" documented="true"><dt><a class="dkn" href="#tree.Parameters.indentation"></a><span class="directory-key"><code class="parameter">indentation</code></span></dt><dd><div class="status"></div><ul class="text.set"><li><p><code class="type.syntax">str</code></p></li><li><p><a class="type" href="#str"><span class="invalid">str</span></a></p></li></ul><p><span class="text.normal">The indentation character or sequence to render lines with.</span></p></dd></div><div id="tree.Parameters.newline" class="parameter" documented="true"><dt><a class="dkn" href="#tree.Parameters.newline"></a><span class="directory-key"><code class="parameter">newline</code></span></dt><dd><div class="status"></div><ul class="text.set"><li><p><code class="type.syntax">str</code></p></li><li><p><a class="type" href="#str"><span class="invalid">str</span></a></p></li></ul><p><span class="text.normal">The character or sequence to append to each line in the image.</span><span class="text.line-break"> </span><span class="text.normal">May be an empty string to supress line terminators.</span></p></dd></div></dl></section></section><section class="function" documented="true" local-identifier="elements" id="elements"><h1><span class="prefix"></span><a class="title" href="#elements"><span class="text.normal">elements</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div><code class="type"><a class="factor-local" href="#Image"><span class="data">Image</span></a></code></h1><p><code class="signature">elements(elements, adjustment, indentation, newline)</code></p><p><span class="text.normal">Produce the image representing the given </span><a class="factor-local" href="#elements.Parameters.elements"><span class="parameter">elements</span></a><span class="text.normal"> sequence.</span></p><section class="unspecified" documented="true" local-identifier="Parameters" id="elements.Parameters"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#elements">elements</a><a class="title" href="#elements.Parameters"><span class="text.normal">Parameters</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><dl class="text.mapping"><div id="elements.Parameters.elements" class="parameter" documented="true"><dt><a class="dkn" href="#elements.Parameters.elements"></a><span class="directory-key"><code class="parameter">elements</code></span></dt><dd><div class="status"></div><p><span class="text.normal">Sequence of arbitrary text elements.</span></p></dd></div><div id="elements.Parameters.adjustment" class="parameter" documented="true"><dt><a class="dkn" href="#elements.Parameters.adjustment"></a><span class="directory-key"><code class="parameter">adjustment</code></span></dt><dd><div class="status"></div><ul class="text.set"><li><p><code class="type.syntax">int</code></p></li><li><p><a class="type" href="#int"><span class="invalid">int</span></a></p></li></ul><p><span class="text.normal">The indentation difference to render Lines with. Zero by default.</span></p></dd></div><div id="elements.Parameters.indentation" class="parameter" documented="true"><dt><a class="dkn" href="#elements.Parameters.indentation"></a><span class="directory-key"><code class="parameter">indentation</code></span></dt><dd><div class="status"></div><ul class="text.set"><li><p><code class="type.syntax">str</code></p></li><li><p><a class="type" href="#str"><span class="invalid">str</span></a></p></li></ul><p><span class="text.normal">The indentation character or sequence to render lines with.</span></p></dd></div><div id="elements.Parameters.newline" class="parameter" documented="true"><dt><a class="dkn" href="#elements.Parameters.newline"></a><span class="directory-key"><code class="parameter">newline</code></span></dt><dd><div class="status"></div><ul class="text.set"><li><p><code class="type.syntax">str</code></p></li><li><p><a class="type" href="#str"><span class="invalid">str</span></a></p></li></ul><p><span class="text.normal">The character or sequence to append to each line in the image.</span><span class="text.line-break"> </span><span class="text.normal">May be an empty string to supress line terminators.</span></p></dd></div></dl></section></section><section class="function" documented="true" local-identifier="chapter" id="chapter"><h1><span class="prefix"></span><a class="title" href="#chapter"><span class="text.normal">chapter</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">function</span></div><code class="type"><a class="factor-local" href="#Image"><span class="data">Image</span></a></code></h1><p><code class="signature">chapter(element, adjustment, indentation, newline)</code></p><p><span class="text.normal">Produce the image representing the given chapter element including newline characters.</span></p><section class="unspecified" documented="true" local-identifier="Parameters" id="chapter.Parameters"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#chapter">chapter</a><a class="title" href="#chapter.Parameters"><span class="text.normal">Parameters</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><dl class="text.mapping"><div id="chapter.Parameters.element" class="parameter" documented="true"><dt><a class="dkn" href="#chapter.Parameters.element"></a><span class="directory-key"><code class="parameter">element</code></span></dt><dd><div class="status"></div><p><span class="text.normal">Any document element.</span></p></dd></div><div id="chapter.Parameters.adjustment" class="parameter" documented="true"><dt><a class="dkn" href="#chapter.Parameters.adjustment"></a><span class="directory-key"><code class="parameter">adjustment</code></span></dt><dd><div class="status"></div><ul class="text.set"><li><p><code class="type.syntax">int</code></p></li><li><p><a class="type" href="#int"><span class="invalid">int</span></a></p></li></ul><p><span class="text.normal">The indentation difference to render Lines with. Zero by default.</span></p></dd></div><div id="chapter.Parameters.indentation" class="parameter" documented="true"><dt><a class="dkn" href="#chapter.Parameters.indentation"></a><span class="directory-key"><code class="parameter">indentation</code></span></dt><dd><div class="status"></div><ul class="text.set"><li><p><code class="type.syntax">str</code></p></li><li><p><a class="type" href="#str"><span class="invalid">str</span></a></p></li></ul><p><span class="text.normal">The indentation character or sequence to render lines with.</span></p></dd></div><div id="chapter.Parameters.newline" class="parameter" documented="true"><dt><a class="dkn" href="#chapter.Parameters.newline"></a><span class="directory-key"><code class="parameter">newline</code></span></dt><dd><div class="status"></div><ul class="text.set"><li><p><code class="type.syntax">str</code></p></li><li><p><a class="type" href="#str"><span class="invalid">str</span></a></p></li></ul><p><span class="text.normal">The character or sequence to append to each line in the image.</span><span class="text.line-break"> </span><span class="text.normal">May be an empty string to supress line terminators.</span></p></dd></div></dl></section></section><h1 class="footing"></h1></main></body></html>