<html root="2"><head><title>fault.time.views</title><meta charset="utf-8"/><link as="style" rel="preload" href="../../.legacy-web/core.css"></link><link as="style" rel="preload" href="../../.legacy-web/factor.css"></link><link rel="stylesheet" href="../../.legacy-web/core.css"></link><link rel="stylesheet" href="../../.legacy-web/factor.css"></link></head><body><main><h1><span class="prefix"></span><div class="page-subject"><img class="icon" src="../../.factor-type-icon/if.fault.io/python-module.svg"></img><span class="subject-identifier">views</span><span class="element-status"><span class="nothing-missed">0</span></span><a href="http://if.fault.io/factors/python.module"><code class="type">python.module</code></a></div><div class="page-context"><a href="../"><img class="icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTYiIGhlaWdodD0iMjU2Ij48dGV4dCB4PSI0IiB5PSIwLjg4ZW0iIGZvbnQtc2l6ZT0iMjQ4Ij7ij7M8L3RleHQ+PC9zdmc+"></img></a><span class="context-identifier">fault.time</span></div></h1><section class="chapter"><p><span class="text.normal">Access to timezone views for adjusting timestamps in and out of local forms.</span></p><p><span class="text.normal">Usage:</span></p><pre class="text.syntax"><code class="python">from fault.time import types, views
z = views.Zone.open(types.from_unix_timestamp, "America/Los_Angeles")
</code></pre></section><section class="import" documented="false" local-identifier="os" id="os"><h1><span class="prefix"></span><a class="title" href="#os"><span class="text.normal">os</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="functools" id="functools"><h1><span class="prefix"></span><a class="title" href="#functools"><span class="text.normal">functools</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="tzif" id="tzif"><h1><span class="prefix"></span><a class="title" href="#tzif"><span class="text.normal">tzif</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="abstract" id="abstract"><h1><span class="prefix"></span><a class="title" href="#abstract"><span class="text.normal">abstract</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="class" documented="true" local-identifier="Zone" id="Zone"><h1><span class="prefix"></span><a class="title" href="#Zone"><span class="text.normal">Zone</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">class</span></div></h1><div class="inheritance"><code class="type"><a class="invalid" href="#object"><span class="unknown">object</span></a></code></div><p><span class="text.normal">An ordered sequence of transition times whose ranges correspond to a</span><span class="text.line-break"> </span><span class="text.normal">particular offset.</span></p><section class="unspecified" documented="true" local-identifier="Properties" id="Zone.Properties"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="title" href="#Zone.Properties"><span class="text.normal">Properties</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><dl class="text.mapping"><div id="Zone.Properties.default" documented="true"><dt><a class="dkn" href="#Zone.Properties.default"></a><span class="directory-key"><span class="text.normal">default</span></span></dt><dd><div class="status"></div><p><span class="text.normal">The default </span><a class="factor-local" href="#Zone.Offset"><span class="class">Offset</span></a><span class="text.normal"> of the </span><a class="factor-local" href="#Zone"><span class="class">Zone</span></a><span class="text.normal">.</span></p></dd></div></dl></section><section class="class" documented="true" local-identifier="Offset" id="Zone.Offset"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="title" href="#Zone.Offset"><span class="text.normal">Offset</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">class</span></div></h1><div class="inheritance"><code class="type"><a class="invalid" href="#tuple"><span class="unknown">tuple</span></a></code></div><p><span class="text.normal">Offsets are constructed by a tuple of the form: </span><code class="">(offset, abbreviation, type)</code><span class="text.normal">.</span><span class="text.line-break"> </span><span class="text.normal">Primarily, the type signifies whether or not the offset is daylight</span><span class="text.line-break"> </span><span class="text.normal">savings or not.</span></p><p><a class="factor-local" href="#Zone.Offset"><span class="class">Offset</span></a><span class="text.normal"> instances are usually extracted from </span><a class="factor-local" href="#Zone"><span class="class">Zone</span></a><span class="text.normal"> objects which</span><span class="text.line-break"> </span><span class="text.normal">build a sequence of transitions for subsequent searching.</span></p><section class="data" documented="false" local-identifier="__slots__" id="Zone.Offset.__slots__"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="section" href="#Zone.Offset">Offset</a><a class="title" href="#Zone.Offset.__slots__"><span class="text.normal">__slots__</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">__slots__ = ()
</code></pre></section><section class="data" documented="false" local-identifier="unit" id="Zone.Offset.unit"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="section" href="#Zone.Offset">Offset</a><a class="title" href="#Zone.Offset.unit"><span class="text.normal">unit</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">unit = 'second'
</code></pre></section><section class="data" documented="false" local-identifier="datum" id="Zone.Offset.datum"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="section" href="#Zone.Offset">Offset</a><a class="title" href="#Zone.Offset.datum"><span class="text.normal">datum</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">datum = 0
	@property
</code></pre></section><section class="property" documented="true" local-identifier="magnitude" id="Zone.Offset.magnitude"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="section" href="#Zone.Offset">Offset</a><a class="title" href="#Zone.Offset.magnitude"><span class="text.normal">magnitude</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">property</span></div></h1><p><span class="text.normal">The offset in seconds from UTC.</span></p></section><section class="property" documented="true" local-identifier="abbreviation" id="Zone.Offset.abbreviation"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="section" href="#Zone.Offset">Offset</a><a class="title" href="#Zone.Offset.abbreviation"><span class="text.normal">abbreviation</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">property</span></div></h1><p><span class="text.normal">The Offset's timezone abbreviation; such as UTC, GMT, and EST.</span></p></section><section class="property" documented="true" local-identifier="type" id="Zone.Offset.type"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="section" href="#Zone.Offset">Offset</a><a class="title" href="#Zone.Offset.type"><span class="text.normal">type</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">property</span></div></h1><p><span class="text.normal">Field used to identify if the </span><a class="factor-local" href="#Zone.Offset"><span class="class">Offset</span></a><span class="text.normal"> is daylight savings time.</span></p></section><section class="property" documented="true" local-identifier="is_dst" id="Zone.Offset.is_dst"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="section" href="#Zone.Offset">Offset</a><a class="title" href="#Zone.Offset.is_dst"><span class="text.normal">is_dst</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">property</span></div></h1><p><span class="text.normal">Whether or not the </span><a class="factor-local" href="#Zone.Offset"><span class="class">Offset</span></a><span class="text.normal"> is referring to a daylight savings time</span><span class="text.line-break"> </span><span class="text.normal">offset.</span></p></section><section class="method" documented="false" local-identifier="__hash__" id="Zone.Offset.__hash__"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="section" href="#Zone.Offset">Offset</a><a class="title" href="#Zone.Offset.__hash__"><span class="text.normal">__hash__</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">__hash__(self)</code></p></section><section class="method" documented="false" local-identifier="__str__" id="Zone.Offset.__str__"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="section" href="#Zone.Offset">Offset</a><a class="title" href="#Zone.Offset.__str__"><span class="text.normal">__str__</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">__str__(self)</code></p></section><section class="method" documented="false" local-identifier="__repr__" id="Zone.Offset.__repr__"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="section" href="#Zone.Offset">Offset</a><a class="title" href="#Zone.Offset.__repr__"><span class="text.normal">__repr__</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">__repr__(self)</code></p></section><section class="method" documented="false" local-identifier="__eq__" id="Zone.Offset.__eq__"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="section" href="#Zone.Offset">Offset</a><a class="title" href="#Zone.Offset.__eq__"><span class="text.normal">__eq__</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">__eq__(self, ob)</code></p></section><section class="method" documented="false" local-identifier="__int__" id="Zone.Offset.__int__"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="section" href="#Zone.Offset">Offset</a><a class="title" href="#Zone.Offset.__int__"><span class="text.normal">__int__</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">__int__(self)</code></p></section><section class="method" documented="true" local-identifier="iso" id="Zone.Offset.iso"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="section" href="#Zone.Offset">Offset</a><a class="title" href="#Zone.Offset.iso"><span class="text.normal">iso</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">iso(self, pit)</code></p><p><span class="text.normal">Return the offset-qualified ISO representation of the given point in time.</span></p></section><section class="classmethod" documented="true" local-identifier="from_tzinfo" id="Zone.Offset.from_tzinfo"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="section" href="#Zone.Offset">Offset</a><a class="title" href="#Zone.Offset.from_tzinfo"><span class="text.normal">from_tzinfo</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">classmethod</span></div></h1><p><code class="signature">from_tzinfo(Class, tzinfo)</code></p><p><span class="text.normal">Construct a Zone instance from a </span><a class="project-local" href="../tzif#tzinfo"><span class="unknown">tzif.tzinfo</span></a><span class="text.normal"> tuple.</span></p></section></section><section class="method" documented="false" local-identifier="__init__" id="Zone.__init__"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="title" href="#Zone.__init__"><span class="text.normal">__init__</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">__init__(self, transitions, offsets, default, leaps, name)</code></p></section><section class="method" documented="false" local-identifier="__repr__" id="Zone.__repr__"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="title" href="#Zone.__repr__"><span class="text.normal">__repr__</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">__repr__(self)</code></p></section><section class="import" documented="false" local-identifier="bisect" id="Zone.bisect"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="title" href="#Zone.bisect"><span class="text.normal">bisect</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="method" documented="true" local-identifier="find" id="Zone.find"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="title" href="#Zone.find"><span class="text.normal">find</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">find(self, pit)</code></p><p><span class="text.normal">Get the appropriate offset in the zone for a given Point In Time, </span><a class="factor-local" href="#Zone.find.Parameters.pit"><span class="parameter">pit</span></a><span class="text.normal">.</span><span class="text.line-break"> </span><span class="text.normal">If the </span><a class="factor-local" href="#Zone.find.Parameters.pit"><span class="parameter">pit</span></a><span class="text.normal"> does not fall within a known range, the </span><a class="invalid" href="#default"><span class="unknown">default</span></a><span class="text.normal"> will be returned.</span></p><p><span class="text.normal">Returns an offset for the timestamp according to the Zone's transition times.</span></p><section class="unspecified" documented="true" local-identifier="Parameters" id="Zone.find.Parameters"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="section" href="#Zone.find">find</a><a class="title" href="#Zone.find.Parameters"><span class="text.normal">Parameters</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><dl class="text.mapping"><div id="Zone.find.Parameters.self" class="parameter" documented="false"><dt><a class="dkn" href="#Zone.find.Parameters.self"></a><span class="directory-key"><code class="parameter">self</code></span></dt><dd><div class="status"></div><p><code class="control.absent">Undocumented</code><span class="text.normal">.</span></p></dd></div><div id="Zone.find.Parameters.pit" class="parameter" documented="true"><dt><a class="dkn" href="#Zone.find.Parameters.pit"></a><span class="directory-key"><code class="parameter">pit</code></span></dt><dd><div class="status"></div><p><span class="text.normal">The </span><a class="project-local" href="../library.Timestamp"><span class="unknown">library.Timestamp</span></a><span class="text.normal"> to use to find an offset with.</span></p></dd></div><div id="Zone.find.Parameters.search" class="parameter" documented="false"><dt><a class="dkn" href="#Zone.find.Parameters.search"></a><span class="directory-key"><code class="parameter">search</code></span></dt><dd><div class="status"></div><p><code class="control.absent">Undocumented</code><span class="text.normal">.</span></p></dd></div></dl></section></section><section class="method" documented="true" local-identifier="slice" id="Zone.slice"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="title" href="#Zone.slice"><span class="text.normal">slice</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">slice(self, start, stop)</code></p><p><span class="text.normal">Get a slice of transition points and time zone offsets</span><span class="text.line-break"> </span><span class="text.normal">relative to a given </span><a class="factor-local" href="#Zone.slice.Parameters.start"><span class="parameter">start</span></a><span class="text.normal"> and </span><a class="factor-local" href="#Zone.slice.Parameters.stop"><span class="parameter">stop</span></a><span class="text.normal">.</span></p><p><span class="text.normal">Returns an iterable of transitions and </span><a class="factor-local" href="#Zone.Offset"><span class="class">Offset</span></a><span class="text.normal"> instances that have</span><span class="text.line-break"> </span><span class="text.normal">occurred during the period designated by the slice.</span></p><section class="unspecified" documented="true" local-identifier="Parameters" id="Zone.slice.Parameters"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="section" href="#Zone.slice">slice</a><a class="title" href="#Zone.slice.Parameters"><span class="text.normal">Parameters</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><dl class="text.mapping"><div id="Zone.slice.Parameters.self" class="parameter" documented="false"><dt><a class="dkn" href="#Zone.slice.Parameters.self"></a><span class="directory-key"><code class="parameter">self</code></span></dt><dd><div class="status"></div><p><code class="control.absent">Undocumented</code><span class="text.normal">.</span></p></dd></div><div id="Zone.slice.Parameters.start" class="parameter" documented="true"><dt><a class="dkn" href="#Zone.slice.Parameters.start"></a><span class="directory-key"><code class="parameter">start</code></span></dt><dd><div class="status"></div><p><span class="text.normal">The start of the period.</span></p></dd></div><div id="Zone.slice.Parameters.stop" class="parameter" documented="true"><dt><a class="dkn" href="#Zone.slice.Parameters.stop"></a><span class="directory-key"><code class="parameter">stop</code></span></dt><dd><div class="status"></div><p><span class="text.normal">The end of the period.</span></p></dd></div><div id="Zone.slice.Parameters.search" class="parameter" documented="false"><dt><a class="dkn" href="#Zone.slice.Parameters.search"></a><span class="directory-key"><code class="parameter">search</code></span></dt><dd><div class="status"></div><p><code class="control.absent">Undocumented</code><span class="text.normal">.</span></p></dd></div></dl></section></section><section class="method" documented="true" local-identifier="localize" id="Zone.localize"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="title" href="#Zone.localize"><span class="text.normal">localize</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">localize(self, pit)</code></p><p><span class="text.normal">Given </span><a class="factor-local" href="#Zone.localize.Parameters.pit"><span class="parameter">pit</span></a><span class="text.normal">, return the localized version according to the zone's transitions.</span></p><p><span class="text.normal">The given Point In Time is expected to have a perspective consistent with the zone's</span><span class="text.line-break"> </span><span class="text.normal">transition times. (In the same zone.)</span></p><p><span class="text.normal">Returns the localized timestamp.</span></p><section class="unspecified" documented="true" local-identifier="Parameters" id="Zone.localize.Parameters"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="section" href="#Zone.localize">localize</a><a class="title" href="#Zone.localize.Parameters"><span class="text.normal">Parameters</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><dl class="text.mapping"><div id="Zone.localize.Parameters.self" class="parameter" documented="false"><dt><a class="dkn" href="#Zone.localize.Parameters.self"></a><span class="directory-key"><code class="parameter">self</code></span></dt><dd><div class="status"></div><p><code class="control.absent">Undocumented</code><span class="text.normal">.</span></p></dd></div><div id="Zone.localize.Parameters.pit" class="parameter" documented="true"><dt><a class="dkn" href="#Zone.localize.Parameters.pit"></a><span class="directory-key"><code class="parameter">pit</code></span></dt><dd><div class="status"></div><p><span class="text.normal">The timestamp to localize.</span></p></dd></div></dl></section></section><section class="method" documented="true" local-identifier="normalize" id="Zone.normalize"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="title" href="#Zone.normalize"><span class="text.normal">normalize</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">normalize(self, offset, pit)</code></p><p><span class="text.normal">This function should be used in cases where adjustments are being made to</span><span class="text.line-break"> </span><span class="text.normal">an already zoned point in time. Once the adjustments are complete, the point should be</span><span class="text.line-break"> </span><span class="text.normal">normalized in order to properly represent the local point.</span></p><p><span class="text.normal">If no change is necessary, the exact, given </span><a class="factor-local" href="#Zone.normalize.Parameters.pit"><span class="parameter">pit</span></a><span class="text.normal"> will be returned.</span></p><p><span class="text.normal">Returns the re-localized </span><a class="factor-local" href="#Zone.normalize.Parameters.pit"><span class="parameter">pit</span></a><span class="text.normal"> and its new </span><a class="factor-local" href="#Zone.Offset"><span class="class">Offset</span></a><span class="text.normal"> in a tuple.</span></p><section class="unspecified" documented="true" local-identifier="Parameters" id="Zone.normalize.Parameters"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="section" href="#Zone.normalize">normalize</a><a class="title" href="#Zone.normalize.Parameters"><span class="text.normal">Parameters</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><dl class="text.mapping"><div id="Zone.normalize.Parameters.self" class="parameter" documented="false"><dt><a class="dkn" href="#Zone.normalize.Parameters.self"></a><span class="directory-key"><code class="parameter">self</code></span></dt><dd><div class="status"></div><p><code class="control.absent">Undocumented</code><span class="text.normal">.</span></p></dd></div><div id="Zone.normalize.Parameters.offset" class="parameter" documented="true"><dt><a class="dkn" href="#Zone.normalize.Parameters.offset"></a><span class="directory-key"><code class="parameter">offset</code></span></dt><dd><div class="status"></div><p><span class="text.normal">The offset of the </span><a class="factor-local" href="#Zone.normalize.Parameters.pit"><span class="parameter">pit</span></a><span class="text.normal">.</span></p></dd></div><div id="Zone.normalize.Parameters.pit" class="parameter" documented="true"><dt><a class="dkn" href="#Zone.normalize.Parameters.pit"></a><span class="directory-key"><code class="parameter">pit</code></span></dt><dd><div class="status"></div><p><span class="text.normal">The localized point in time to normalize.</span></p></dd></div></dl></section></section><section class="classmethod" documented="false" local-identifier="from_tzif_data" id="Zone.from_tzif_data"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="title" href="#Zone.from_tzif_data"><span class="text.normal">from_tzif_data</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">classmethod</span></div></h1><p><code class="signature">from_tzif_data(Class, construct, tzd)</code></p></section><section class="classmethod" documented="false" local-identifier="from_file" id="Zone.from_file"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="title" href="#Zone.from_file"><span class="text.normal">from_file</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">classmethod</span></div></h1><p><code class="signature">from_file(Class, construct, filepath)</code></p></section><section class="classmethod" documented="false" local-identifier="open" id="Zone.open"><h1><span class="prefix"></span><a class="section" href="#Zone">Zone</a><a class="title" href="#Zone.open"><span class="text.normal">open</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">classmethod</span></div></h1><p><code class="signature">open(Class, construct)</code></p></section></section><h1 class="footing"></h1></main></body></html>