<html root="2"><head><title>fault.internet.host</title><meta charset="utf-8"/><link as="style" rel="preload" href="../../.legacy-web/core.css"></link><link as="style" rel="preload" href="../../.legacy-web/factor.css"></link><link rel="stylesheet" href="../../.legacy-web/core.css"></link><link rel="stylesheet" href="../../.legacy-web/factor.css"></link></head><body><main><h1><span class="prefix"></span><div class="page-subject"><img class="icon" src="../../.factor-type-icon/if.fault.io/python-module.svg"></img><span class="subject-identifier">host</span><a href="http://if.fault.io/factors/python.module"><code class="type">python.module</code></a></div><div class="page-context"><a href="../"><img class="icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTYiIGhlaWdodD0iMjU2Ij48dGV4dCB4PSI0IiB5PSIwLjg4ZW0iIGZvbnQtc2l6ZT0iMjQ4Ij7wn5OhPC90ZXh0Pjwvc3ZnPg=="></img></a><span class="context-identifier">fault.internet</span></div></h1><section class="chapter"><p><span class="text.normal">Endpoint and Service type for referencing internet addresses for</span><span class="text.line-break"> </span><span class="text.normal">Internet Protocol version 4 and 6.</span></p></section><section class="import" documented="false" local-identifier="typing" id="typing"><h1><span class="prefix"></span><a class="title" href="#typing"><span class="text.normal">typing</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="ipaddress" id="ipaddress"><h1><span class="prefix"></span><a class="title" href="#ipaddress"><span class="text.normal">ipaddress</span></a><span class="abstract-type">import</span></h1></section><section class="class" documented="true" local-identifier="Service" id="Service"><h1><span class="prefix"></span><a class="title" href="#Service"><span class="text.normal">Service</span></a><span class="abstract-type">class</span></h1><div class="inheritance"><code class="type"><a class="invalid" href="#int"><span class="unknown">int</span></a></code></div><p><span class="text.normal">Internet port identifier. Empty subclass for identification purposes.</span></p><section class="data" documented="false" local-identifier="__slots__" id="Service.__slots__"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.__slots__"><span class="text.normal">__slots__</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">__slots__ = ()
</code></pre></section><section class="data" documented="false" local-identifier="valid_range" id="Service.valid_range"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.valid_range"><span class="text.normal">valid_range</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">valid_range = (0, 0xFFFF)
</code></pre></section><section class="data" documented="false" local-identifier="system_range" id="Service.system_range"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.system_range"><span class="text.normal">system_range</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">system_range = (0, 1024)
</code></pre></section><section class="data" documented="false" local-identifier="epheremal_range" id="Service.epheremal_range"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.epheremal_range"><span class="text.normal">epheremal_range</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">epheremal_range = (49152, 0xFFFF)
</code></pre></section><section class="method" documented="true" local-identifier="valid" id="Service.valid"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.valid"><span class="text.normal">valid</span></a><span class="abstract-type">method</span></h1><p><code class="signature">valid(self)</code></p><p><span class="text.normal">Whether or not the Service port is within the standard range.</span></p></section><section class="method" documented="true" local-identifier="system" id="Service.system"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.system"><span class="text.normal">system</span></a><span class="abstract-type">method</span></h1><p><code class="signature">system(self)</code></p><p><span class="text.normal">Whether or not the Service port is considered a 'well known' port.</span></p></section><section class="method" documented="true" local-identifier="ephemeral" id="Service.ephemeral"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.ephemeral"><span class="text.normal">ephemeral</span></a><span class="abstract-type">method</span></h1><p><code class="signature">ephemeral(self)</code></p><p><span class="text.normal">Whether or not the Service port is considered an 'ephemeral' port by IANA.</span></p></section><section class="classmethod" documented="false" local-identifier="from_name" id="Service.from_name"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.from_name"><span class="text.normal">from_name</span></a><span class="abstract-type">classmethod</span></h1><p><code class="signature">from_name(Class, name)</code></p></section></section><section class="data" documented="false" local-identifier="common_services" id="common_services"><h1><span class="prefix"></span><a class="title" href="#common_services"><span class="text.normal">common_services</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">common_services = {
	'domain': Service(53),

	'http': Service(80),
	'https': Service(443),
	'ftp': Service(21),
	'ftps': Service(990),

	'ssh': Service(22),
	'telnet': Service(23),

	'smtp': Service(25),
	'kerberos': Service(88),
	'ntp': Service(123),
	'bgp': Service(179),
	'irc': Service(194),
	'ldap': Service(389),
}
</code></pre></section><section class="class" documented="true" local-identifier="Endpoint" id="Endpoint"><h1><span class="prefix"></span><a class="title" href="#Endpoint"><span class="text.normal">Endpoint</span></a><span class="abstract-type">class</span></h1><div class="inheritance"><code class="type"><a class="invalid" href="#tuple"><span class="unknown">tuple</span></a></code></div><p><span class="text.normal">A precise Endpoint for internet addresses and local sockets.</span></p><section class="data" documented="false" local-identifier="__slots__" id="Endpoint.__slots__"><h1><span class="prefix"></span><a class="section" href="#Endpoint">Endpoint</a><a class="title" href="#Endpoint.__slots__"><span class="text.normal">__slots__</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">__slots__ = ()
</code></pre></section><section class="data" documented="false" local-identifier="address_types" id="Endpoint.address_types"><h1><span class="prefix"></span><a class="section" href="#Endpoint">Endpoint</a><a class="title" href="#Endpoint.address_types"><span class="text.normal">address_types</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">address_types = (ipaddress.IPv4Address, ipaddress.IPv6Address)
	@classmethod
</code></pre></section><section class="classmethod" documented="true" local-identifier="create_ip4" id="Endpoint.create_ip4"><h1><span class="prefix"></span><a class="section" href="#Endpoint">Endpoint</a><a class="title" href="#Endpoint.create_ip4"><span class="text.normal">create_ip4</span></a><span class="abstract-type">classmethod</span></h1><p><code class="signature">create_ip4(Class, string, port)</code></p><p><span class="text.normal">Create an IPv4 Endpoint Instance</span></p></section><section class="classmethod" documented="true" local-identifier="create_ip6" id="Endpoint.create_ip6"><h1><span class="prefix"></span><a class="section" href="#Endpoint">Endpoint</a><a class="title" href="#Endpoint.create_ip6"><span class="text.normal">create_ip6</span></a><span class="abstract-type">classmethod</span></h1><p><code class="signature">create_ip6(Class, string, port)</code></p><p><span class="text.normal">Create an IPv6 Endpoint Instance</span></p></section><section class="property" documented="true" local-identifier="protocol" id="Endpoint.protocol"><h1><span class="prefix"></span><a class="section" href="#Endpoint">Endpoint</a><a class="title" href="#Endpoint.protocol"><span class="text.normal">protocol</span></a><span class="abstract-type">property</span></h1><p><span class="text.normal">Addressing protocol; 4 or 6</span></p></section><section class="property" documented="true" local-identifier="interface" id="Endpoint.interface"><h1><span class="prefix"></span><a class="section" href="#Endpoint">Endpoint</a><a class="title" href="#Endpoint.interface"><span class="text.normal">interface</span></a><span class="abstract-type">property</span></h1><p><span class="text.normal">The </span><a class="none" href="http://fault.io/dev/null"><span class="invalid">ipaddress</span></a><span class="text.normal"> typed address.</span></p></section><section class="data" documented="false" local-identifier="address" id="Endpoint.address"><h1><span class="prefix"></span><a class="section" href="#Endpoint">Endpoint</a><a class="title" href="#Endpoint.address"><span class="text.normal">address</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">address = interface
	@property
</code></pre></section><section class="property" documented="true" local-identifier="port" id="Endpoint.port"><h1><span class="prefix"></span><a class="section" href="#Endpoint">Endpoint</a><a class="title" href="#Endpoint.port"><span class="text.normal">port</span></a><span class="abstract-type">property</span></h1><p><span class="text.normal">The </span><a class="factor-local" href="#Service"><span class="class">Service</span></a><span class="text.normal"> of the endpoint.</span></p></section><section class="method" documented="true" local-identifier="__str__" id="Endpoint.__str__"><h1><span class="prefix"></span><a class="section" href="#Endpoint">Endpoint</a><a class="title" href="#Endpoint.__str__"><span class="text.normal">__str__</span></a><span class="abstract-type">method</span></h1><p><code class="signature">__str__(self)</code></p><p><span class="text.normal">"&#60;address&#62;:&#60;port&#62;" representation suitable for interpolation into</span><span class="text.line-break"> </span><span class="text.normal">an IRI network location.</span></p></section><section class="method" documented="false" local-identifier="__repr__" id="Endpoint.__repr__"><h1><span class="prefix"></span><a class="section" href="#Endpoint">Endpoint</a><a class="title" href="#Endpoint.__repr__"><span class="text.normal">__repr__</span></a><span class="abstract-type">method</span></h1><p><code class="signature">__repr__(self)</code></p></section><section class="method" documented="false" local-identifier="__hash__" id="Endpoint.__hash__"><h1><span class="prefix"></span><a class="section" href="#Endpoint">Endpoint</a><a class="title" href="#Endpoint.__hash__"><span class="text.normal">__hash__</span></a><span class="abstract-type">method</span></h1><p><code class="signature">__hash__(self)</code></p></section><section class="classmethod" documented="true" local-identifier="create" id="Endpoint.create"><h1><span class="prefix"></span><a class="section" href="#Endpoint">Endpoint</a><a class="title" href="#Endpoint.create"><span class="text.normal">create</span></a><span class="abstract-type">classmethod</span></h1><p><code class="signature">create(Class, interface, port)</code></p><p><span class="text.normal">Create an IPv4 or IPv6 endpoint based on the type detected from the string.</span></p><p><span class="text.normal">The </span><a class="none" href="http://fault.io/dev/null"><span class="invalid">ipaddress</span></a><span class="text.normal"> type will be selected by the </span><a class="none" href="http://fault.io/dev/null"><span class="invalid">ipaddress.ip_address</span></a><span class="text.normal"> function.</span></p></section></section><section class="class" documented="true" local-identifier="Reference" id="Reference"><h1><span class="prefix"></span><a class="title" href="#Reference"><span class="text.normal">Reference</span></a><span class="abstract-type">class</span></h1><div class="inheritance"><code class="type"><a class="invalid" href="#tuple"><span class="unknown">tuple</span></a></code></div><p><span class="text.normal">A domain name referencing a set of endpoints.</span></p><p><span class="text.normal">References are actually service references for a specific domain. They</span><span class="text.line-break"> </span><span class="text.normal">consist of protocol, address, port, and service fields that define</span><span class="text.line-break"> </span><span class="text.normal">the reference. Normally, protocol is "dns" and implies system DNS.</span></p><p><span class="text.normal">Protocol variations can be used to describe more complicated name resolutions.</span></p><section class="data" documented="false" local-identifier="__slots__" id="Reference.__slots__"><h1><span class="prefix"></span><a class="section" href="#Reference">Reference</a><a class="title" href="#Reference.__slots__"><span class="text.normal">__slots__</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">__slots__ = ()
</code></pre></section><section class="data" documented="false" local-identifier="fields" id="Reference.fields"><h1><span class="prefix"></span><a class="section" href="#Reference">Reference</a><a class="title" href="#Reference.fields"><span class="text.normal">fields</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">fields = (
	'protocol',
	'address',
	'port',
	'service',
)
	@property
</code></pre></section><section class="property" documented="true" local-identifier="protocol" id="Reference.protocol"><h1><span class="prefix"></span><a class="section" href="#Reference">Reference</a><a class="title" href="#Reference.protocol"><span class="text.normal">protocol</span></a><span class="abstract-type">property</span><code class="type"><a class="invalid" href="#str"><span class="unknown">str</span></a></code></h1><p><span class="text.normal">Resolution protocol to use to extract endpoints from </span><a class="factor-local" href="#Reference.address"><span class="property">address</span></a><span class="text.normal">. Usually, </span><code class="">'internet-names'</code><span class="text.normal">.</span></p></section><section class="property" documented="true" local-identifier="address" id="Reference.address"><h1><span class="prefix"></span><a class="section" href="#Reference">Reference</a><a class="title" href="#Reference.address"><span class="text.normal">address</span></a><span class="abstract-type">property</span><code class="type"><a class="invalid" href="#object"><span class="unknown">object</span></a></code></h1><p><span class="text.normal">The unencoded domain name.</span></p></section><section class="property" documented="true" local-identifier="port" id="Reference.port"><h1><span class="prefix"></span><a class="section" href="#Reference">Reference</a><a class="title" href="#Reference.port"><span class="text.normal">port</span></a><span class="abstract-type">property</span><code class="type"><a class="factor-local" href="#Service"><span class="class">Service</span></a></code></h1><p><span class="text.normal">The resolved or overridden port for the service.</span><span class="text.line-break"> </span><span class="text.normal">Usually, this is </span><a class="invalid" href="#None"><span class="unknown">None</span></a><span class="text.normal"> as the </span><a class="factor-local" href="#Reference.service"><span class="property">service</span></a><span class="text.normal"> will refer to the desired </span><a class="factor-local" href="#Service"><span class="class">Service</span></a><span class="text.normal"> port</span><span class="text.line-break"> </span><span class="text.normal">or the resolver will manage a</span></p></section><section class="property" documented="true" local-identifier="service" id="Reference.service"><h1><span class="prefix"></span><a class="section" href="#Reference">Reference</a><a class="title" href="#Reference.service"><span class="text.normal">service</span></a><span class="abstract-type">property</span><code class="type"><a class="invalid" href="#str"><span class="unknown">str</span></a></code></h1><p><span class="text.normal">The actual service name being referred to.</span><span class="text.line-break"> </span><span class="text.normal">Used by resolvers that support service name resolution.</span></p></section><section class="method" documented="true" local-identifier="__str__" id="Reference.__str__"><h1><span class="prefix"></span><a class="section" href="#Reference">Reference</a><a class="title" href="#Reference.__str__"><span class="text.normal">__str__</span></a><span class="abstract-type">method</span></h1><p><code class="signature">__str__(self)</code></p><p><span class="text.normal">Formatted reference for canonical printing.</span><span class="text.line-break"> </span><span class="text.normal">Return "&#60;service&#62;:[&#60;protocol&#62;]&#60;name&#62;:&#60;port&#62;".</span></p></section><section class="method" documented="false" local-identifier="__repr__" id="Reference.__repr__"><h1><span class="prefix"></span><a class="section" href="#Reference">Reference</a><a class="title" href="#Reference.__repr__"><span class="text.normal">__repr__</span></a><span class="abstract-type">method</span></h1><p><code class="signature">__repr__(self)</code></p></section><section class="classmethod" documented="false" local-identifier="from_domain" id="Reference.from_domain"><h1><span class="prefix"></span><a class="section" href="#Reference">Reference</a><a class="title" href="#Reference.from_domain"><span class="text.normal">from_domain</span></a><span class="abstract-type">classmethod</span></h1><p><code class="signature">from_domain(Class, name, service)</code></p></section></section><section class="function" documented="true" local-identifier="realize" id="realize"><h1><span class="prefix"></span><a class="title" href="#realize"><span class="text.normal">realize</span></a><span class="abstract-type">function</span><code class="type">typing.Union[Reference, Endpoint]</code></h1><p><code class="signature">realize(struct)</code></p><p><span class="text.normal">Construct an </span><a class="factor-local" href="#Endpoint"><span class="class">Endpoint</span></a><span class="text.normal"> or </span><a class="factor-local" href="#Reference"><span class="class">Reference</span></a><span class="text.normal"> from </span><a class="factor-local" href="#realize.Parameters.struct"><span class="parameter">struct</span></a><span class="text.normal">.</span></p><pre class="text.syntax"><code class="/pl/python">Usual case:
from fault.internet import ri
target = host.realize(ri.parse(url))
</code></pre></section><h1 class="footing"></h1></main></body></html>