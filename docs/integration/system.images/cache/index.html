<html root="2"><head><title>system.images.cache</title><meta charset="utf-8"/><link as="style" rel="preload" href="../../.legacy-web/core.css"></link><link as="style" rel="preload" href="../../.legacy-web/factor.css"></link><link rel="stylesheet" href="../../.legacy-web/core.css"></link><link rel="stylesheet" href="../../.legacy-web/factor.css"></link></head><body><main><h1><span class="prefix"></span><div class="page-subject"><img class="icon" src="../../.factor-type-icon/if.fault.io/python-module.svg"></img><span class="subject-identifier">cache</span><a href="http://if.fault.io/factors/python.module"><code class="type">python.module</code></a></div><div class="page-context"><a href="../"><img class="icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTYiIGhlaWdodD0iMjU2Ij48dGV4dCB4PSI0IiB5PSIwLjg4ZW0iIGZvbnQtc2l6ZT0iMjQ4Ij7wn5OQPC90ZXh0Pjwvc3ZnPg=="></img></a><span class="context-identifier">system.images</span></div></h1><section class="chapter"><p><span class="text.normal">Interface for construction context build cache.</span></p></section><section class="import" documented="false" local-identifier="tools" id="tools"><h1><span class="prefix"></span><a class="title" href="#tools"><span class="text.normal">tools</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="files" id="files"><h1><span class="prefix"></span><a class="title" href="#files"><span class="text.normal">files</span></a><span class="abstract-type">import</span></h1></section><section class="class" documented="true" local-identifier="Directory" id="Directory"><h1><span class="prefix"></span><a class="title" href="#Directory"><span class="text.normal">Directory</span></a><span class="abstract-type">class</span></h1><div class="inheritance"><code class="type"><a class="invalid" href="#object"><span class="unknown">object</span></a></code></div><p><span class="text.normal">A filesystem directory managing the build cache of a project set.</span></p><section class="data" documented="false" local-identifier="retained" id="Directory.retained"><h1><span class="prefix"></span><a class="section" href="#Directory">Directory</a><a class="title" href="#Directory.retained"><span class="text.normal">retained</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">retained = None
</code></pre></section><section class="method" documented="false" local-identifier="__init__" id="Directory.__init__"><h1><span class="prefix"></span><a class="section" href="#Directory">Directory</a><a class="title" href="#Directory.__init__"><span class="text.normal">__init__</span></a><span class="abstract-type">method</span></h1><p><code class="signature">__init__(self, route)</code></p></section><section class="method" documented="true" local-identifier="select" id="Directory.select"><h1><span class="prefix"></span><a class="section" href="#Directory">Directory</a><a class="title" href="#Directory.select"><span class="text.normal">select</span></a><span class="abstract-type">method</span><code class="type"><a class="remote" href="http://fault.io/python/system/files#Path"><span class="factor-element">files.Path</span></a></code></h1><p><code class="signature">select(self, project, factor, key)</code></p><p><span class="text.normal">Retrieve the route to the work directory for the project's factor.</span></p></section></section><section class="class" documented="true" local-identifier="Persistent" id="Persistent"><h1><span class="prefix"></span><a class="title" href="#Persistent"><span class="text.normal">Persistent</span></a><span class="abstract-type">class</span></h1><div class="inheritance"><code class="type"><a class="factor-local" href="#Directory"><span class="class">Directory</span></a></code></div><p><span class="text.normal">Cache directory interface for builds whose cache is expected to be reused.</span></p><p><span class="text.normal">Uses a hashed-key path directory to store and recall entries.</span></p><section class="data" documented="false" local-identifier="retained" id="Persistent.retained"><h1><span class="prefix"></span><a class="section" href="#Persistent">Persistent</a><a class="title" href="#Persistent.retained"><span class="text.normal">retained</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">retained = True
	@tools.cachedproperty
</code></pre></section><section class="method" documented="false" local-identifier="resource" id="Persistent.resource"><h1><span class="prefix"></span><a class="section" href="#Persistent">Persistent</a><a class="title" href="#Persistent.resource"><span class="text.normal">resource</span></a><span class="abstract-type">method</span></h1><p><code class="signature">resource(self)</code></p></section><section class="method" documented="false" local-identifier="select" id="Persistent.select"><h1><span class="prefix"></span><a class="section" href="#Persistent">Persistent</a><a class="title" href="#Persistent.select"><span class="text.normal">select</span></a><span class="abstract-type">method</span></h1><p><code class="signature">select(self, project, factor, key)</code></p></section></section><section class="class" documented="true" local-identifier="Transient" id="Transient"><h1><span class="prefix"></span><a class="title" href="#Transient"><span class="text.normal">Transient</span></a><span class="abstract-type">class</span></h1><div class="inheritance"><code class="type"><a class="factor-local" href="#Directory"><span class="class">Directory</span></a></code></div><p><span class="text.normal">Cache directory interface for builds whose cache is expected to be removed.</span></p><p><span class="text.normal">Uses an in memory index to recall positioning and counters to allocate new entries.</span></p><section class="data" documented="false" local-identifier="retained" id="Transient.retained"><h1><span class="prefix"></span><a class="section" href="#Transient">Transient</a><a class="title" href="#Transient.retained"><span class="text.normal">retained</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">retained = False
	@tools.cachedproperty
</code></pre></section><section class="method" documented="false" local-identifier="counters" id="Transient.counters"><h1><span class="prefix"></span><a class="section" href="#Transient">Transient</a><a class="title" href="#Transient.counters"><span class="text.normal">counters</span></a><span class="abstract-type">method</span></h1><p><code class="signature">counters(self)</code></p></section><section class="method" documented="false" local-identifier="index" id="Transient.index"><h1><span class="prefix"></span><a class="section" href="#Transient">Transient</a><a class="title" href="#Transient.index"><span class="text.normal">index</span></a><span class="abstract-type">method</span></h1><p><code class="signature">index(self)</code></p></section><section class="method" documented="false" local-identifier="select" id="Transient.select"><h1><span class="prefix"></span><a class="section" href="#Transient">Transient</a><a class="title" href="#Transient.select"><span class="text.normal">select</span></a><span class="abstract-type">method</span></h1><p><code class="signature">select(self, project, factor, key)</code></p></section></section><h1 class="footing"></h1></main></body></html>