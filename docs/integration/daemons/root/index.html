<html root="2"><head><title>system.daemons.root</title><meta charset="utf-8"/><link as="style" rel="preload" href="../../.legacy-web/core.css"></link><link as="style" rel="preload" href="../../.legacy-web/factor.css"></link><link rel="stylesheet" href="../../.legacy-web/core.css"></link><link rel="stylesheet" href="../../.legacy-web/factor.css"></link></head><body><main><h1><span class="prefix"></span><div class="page-subject"><img class="icon" src="../../.factor-type-icon/if.fault.io/python-module.svg"></img><span class="subject-identifier">root</span><span class="element-status"><span class="nothing-missed">0</span></span><a href="http://if.fault.io/factors/python.module"><code class="type">python.module</code></a></div><div class="page-context"><a href="../"><img class="icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTYiIGhlaWdodD0iMjU2Ij48dGV4dCB4PSI0IiB5PSIwLjg4ZW0iIGZvbnQtc2l6ZT0iMjQ4Ij7wn5G/PC90ZXh0Pjwvc3ZnPg=="></img></a><span class="context-identifier">system.daemons</span></div></h1><section class="chapter"><p><span class="text.normal">Root daemon process for service management and scheduled processes.</span></p><p><a class="project-local" href="../root"><span class="unknown">root</span></a><span class="text.normal"> provides the primary support for </span><a class="project-local" href="../bin.rootd"><span class="unknown">bin.rootd</span></a><span class="text.normal"> which manages a set of daemons,</span></p><p><span class="text.normal">Multiple instances of rootd may exist, but usually only one per-user is desired.</span><span class="text.line-break"> </span><span class="text.normal">The </span><code class="system.home">.fault</code><span class="text.normal"> directory is used by default, but can be adjusted by a command</span><span class="text.line-break"> </span><span class="text.normal">line parameter. The daemon directory supplies all the necessary configuration,</span><span class="text.line-break"> </span><span class="text.normal">so few options are available from system invocation.</span></p></section><section class="import" documented="false" local-identifier="os" id="os"><h1><span class="prefix"></span><a class="title" href="#os"><span class="text.normal">os</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="sys" id="sys"><h1><span class="prefix"></span><a class="title" href="#sys"><span class="text.normal">sys</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="signal" id="signal"><h1><span class="prefix"></span><a class="title" href="#signal"><span class="text.normal">signal</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="functools" id="functools"><h1><span class="prefix"></span><a class="title" href="#functools"><span class="text.normal">functools</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="itertools" id="itertools"><h1><span class="prefix"></span><a class="title" href="#itertools"><span class="text.normal">itertools</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="typing" id="typing"><h1><span class="prefix"></span><a class="title" href="#typing"><span class="text.normal">typing</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="json" id="json"><h1><span class="prefix"></span><a class="title" href="#json"><span class="text.normal">json</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="libexec" id="libexec"><h1><span class="prefix"></span><a class="title" href="#libexec"><span class="text.normal">libexec</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="network" id="network"><h1><span class="prefix"></span><a class="title" href="#network"><span class="text.normal">network</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="Path" id="Path"><h1><span class="prefix"></span><a class="title" href="#Path"><span class="text.normal">Path</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="http" id="http"><h1><span class="prefix"></span><a class="title" href="#http"><span class="text.normal">http</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="ri" id="ri"><h1><span class="prefix"></span><a class="title" href="#ri"><span class="text.normal">ri</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="kcore" id="kcore"><h1><span class="prefix"></span><a class="title" href="#kcore"><span class="text.normal">kcore</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="kdispatch" id="kdispatch"><h1><span class="prefix"></span><a class="title" href="#kdispatch"><span class="text.normal">kdispatch</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="kio" id="kio"><h1><span class="prefix"></span><a class="title" href="#kio"><span class="text.normal">kio</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="kflows" id="kflows"><h1><span class="prefix"></span><a class="title" href="#kflows"><span class="text.normal">kflows</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="timetypes" id="timetypes"><h1><span class="prefix"></span><a class="title" href="#timetypes"><span class="text.normal">timetypes</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="import" documented="false" local-identifier="service" id="service"><h1><span class="prefix"></span><a class="title" href="#service"><span class="text.normal">service</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">import</span></div></h1></section><section class="class" documented="true" local-identifier="Service" id="Service"><h1><span class="prefix"></span><a class="title" href="#Service"><span class="text.normal">Service</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">class</span></div></h1><div class="inheritance"><code class="type"><a class="remote" href="http://fault.io/python/kernel/core#Context"><span class="factor-element">kcore.Context</span></a></code></div><p><span class="text.normal">Service daemon state and control interface.</span></p><p><span class="text.normal">Manages the interactions to daemons and commands.</span></p><p><span class="text.normal">Service processors do not exit unless the service is </span><span class="text.emphasis">completely</span><span class="text.normal"> removed</span><span class="text.line-break"> </span><span class="text.normal">by an administrative instruction; disabling a service does not remove it.</span><span class="text.line-break"> </span><span class="text.normal">They primarily respond to events in order to keep the daemon running.</span><span class="text.line-break"> </span><span class="text.normal">Secondarily, it provides the administrative interface.</span></p><section class="unspecified" documented="true" local-identifier="Properties" id="Service.Properties"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.Properties"><span class="text.normal">Properties</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type"></span></div></h1><dl class="text.mapping"><div id="Service.Properties.s_minimum_runtime" documented="true"><dt><a class="dkn" href="#Service.Properties.s_minimum_runtime"></a><span class="directory-key"><span class="text.normal">s_minimum_runtime</span></span></dt><dd><div class="status"></div><p><span class="text.normal">Identifies the minimum time required to identify a successful start.</span></p></dd></div><div id="Service.Properties.s_retry_wait" documented="true"><dt><a class="dkn" href="#Service.Properties.s_retry_wait"></a><span class="directory-key"><span class="text.normal">s_retry_wait</span></span></dt><dd><div class="status"></div><p><span class="text.normal">Duration to wait before automatically attemping to start the daemon again.</span></p></dd></div><div id="Service.Properties.s_maximum_attempts" documented="true"><dt><a class="dkn" href="#Service.Properties.s_maximum_attempts"></a><span class="directory-key"><span class="text.normal">s_maximum_attempts</span></span></dt><dd><div class="status"></div><p><span class="text.normal">Limit of attempts to make before giving up and inhibiting daemon start.</span></p></dd></div></dl></section><section class="data" documented="false" local-identifier="s_minimum_runtime" id="Service.s_minimum_runtime"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.s_minimum_runtime"><span class="text.normal">s_minimum_runtime</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">s_minimum_runtime = timetypes.Measure.of(second=16)
</code></pre></section><section class="data" documented="false" local-identifier="s_retry_wait" id="Service.s_retry_wait"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.s_retry_wait"><span class="text.normal">s_retry_wait</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">s_retry_wait = timetypes.Measure.of(second=2)
</code></pre></section><section class="data" documented="false" local-identifier="s_maximum_attempts" id="Service.s_maximum_attempts"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.s_maximum_attempts"><span class="text.normal">s_maximum_attempts</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">s_maximum_attempts = 8
</code></pre></section><section class="method" documented="false" local-identifier="structure" id="Service.structure"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.structure"><span class="text.normal">structure</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">structure(self)</code></p></section><section class="data" documented="false" local-identifier="s_critical" id="Service.s_critical"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.s_critical"><span class="text.normal">s_critical</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">s_critical = "critical.log"
</code></pre></section><section class="data" documented="false" local-identifier="s_status" id="Service.s_status"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.s_status"><span class="text.normal">s_status</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">s_status = 'unknown'
</code></pre></section><section class="data" documented="false" local-identifier="s_config" id="Service.s_config"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.s_config"><span class="text.normal">s_config</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">s_config = None
</code></pre></section><section class="data" documented="false" local-identifier="s_invocation" id="Service.s_invocation"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.s_invocation"><span class="text.normal">s_invocation</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">s_invocation = None
</code></pre></section><section class="data" documented="false" local-identifier="s_inhibit_recovery" id="Service.s_inhibit_recovery"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.s_inhibit_recovery"><span class="text.normal">s_inhibit_recovery</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">s_inhibit_recovery = None
</code></pre></section><section class="data" documented="false" local-identifier="s_exit_events" id="Service.s_exit_events"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.s_exit_events"><span class="text.normal">s_exit_events</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">s_exit_events = ()
</code></pre></section><section class="method" documented="false" local-identifier="__init__" id="Service.__init__"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.__init__"><span class="text.normal">__init__</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">__init__(self, service_config)</code></p></section><section class="method" documented="false" local-identifier="actuate" id="Service.actuate"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.actuate"><span class="text.normal">actuate</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">actuate(self)</code></p></section><section class="method" documented="true" local-identifier="s_invoke" id="Service.s_invoke"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.s_invoke"><span class="text.normal">s_invoke</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">s_invoke(self)</code></p><p><span class="text.normal">Invoke the service. Does nothing if </span><a class="factor-local" href="#Service.s_status"><span class="data">s_status</span></a><span class="text.normal"> is </span><code class="">'executed'</code><span class="text.normal">.</span></p></section><section class="data" documented="false" local-identifier="occur" id="Service.occur"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.occur"><span class="text.normal">occur</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">occur = s_invoke
</code></pre></section><section class="method" documented="false" local-identifier="s_was_running" id="Service.s_was_running"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.s_was_running"><span class="text.normal">s_was_running</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">s_was_running(self)</code></p></section><section class="method" documented="true" local-identifier="s_again" id="Service.s_again"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.s_again"><span class="text.normal">s_again</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">s_again(self)</code></p><p><span class="text.normal">Called when a service process exits.</span></p></section><section class="method" documented="true" local-identifier="s_update" id="Service.s_update"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.s_update"><span class="text.normal">s_update</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">s_update(self)</code></p><p><span class="text.normal">Create or Update the KInvocation instance used to launch the daemon.</span></p></section><section class="method" documented="false" local-identifier="xact_void" id="Service.xact_void"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.xact_void"><span class="text.normal">xact_void</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">xact_void(self, xact)</code></p></section><section class="method" documented="false" local-identifier="s_get_pid" id="Service.s_get_pid"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.s_get_pid"><span class="text.normal">s_get_pid</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">s_get_pid(self)</code></p></section><section class="method" documented="false" local-identifier="s_terminate" id="Service.s_terminate"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.s_terminate"><span class="text.normal">s_terminate</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">s_terminate(self)</code></p></section><section class="method" documented="false" local-identifier="s_interrupt" id="Service.s_interrupt"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.s_interrupt"><span class="text.normal">s_interrupt</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">s_interrupt(self)</code></p></section><section class="method" documented="false" local-identifier="s_kill" id="Service.s_kill"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.s_kill"><span class="text.normal">s_kill</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">s_kill(self)</code></p></section><section class="method" documented="false" local-identifier="s_suspend" id="Service.s_suspend"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.s_suspend"><span class="text.normal">s_suspend</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">s_suspend(self)</code></p></section><section class="method" documented="false" local-identifier="s_continue" id="Service.s_continue"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.s_continue"><span class="text.normal">s_continue</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">s_continue(self)</code></p></section><section class="method" documented="false" local-identifier="terminate" id="Service.terminate"><h1><span class="prefix"></span><a class="section" href="#Service">Service</a><a class="title" href="#Service.terminate"><span class="text.normal">terminate</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">terminate(self)</code></p></section></section><section class="class" documented="false" local-identifier="Control" id="Control"><h1><span class="prefix"></span><a class="title" href="#Control"><span class="text.normal">Control</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">class</span></div></h1><div class="inheritance"><code class="type"><a class="remote" href="http://fault.io/python/kernel/core#Context"><span class="factor-element">kcore.Context</span></a></code></div><section class="staticmethod" documented="false" local-identifier="prepare_http_v1" id="Control.prepare_http_v1"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control.prepare_http_v1"><span class="text.normal">prepare_http_v1</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">staticmethod</span></div></h1><p><code class="signature">prepare_http_v1(ifx, ports)</code></p></section><section class="method" documented="false" local-identifier="__init__" id="Control.__init__"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control.__init__"><span class="text.normal">__init__</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">__init__(self, path, rootset)</code></p></section><section class="method" documented="false" local-identifier="actuate" id="Control.actuate"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control.actuate"><span class="text.normal">actuate</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">actuate(self)</code></p></section><section class="method" documented="false" local-identifier="xact_exit" id="Control.xact_exit"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control.xact_exit"><span class="text.normal">xact_exit</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">xact_exit(self, xact)</code></p></section><section class="method" documented="false" local-identifier="xact_void" id="Control.xact_void"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control.xact_void"><span class="text.normal">xact_void</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">xact_void(self, final)</code></p></section><section class="method" documented="false" local-identifier="terminate" id="Control.terminate"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control.terminate"><span class="text.normal">terminate</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">terminate(self)</code></p></section><section class="method" documented="false" local-identifier="ctl_select" id="Control.ctl_select"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control.ctl_select"><span class="text.normal">ctl_select</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">ctl_select(self, s_identifier)</code></p></section><section class="method" documented="false" local-identifier="ctl_update" id="Control.ctl_update"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control.ctl_update"><span class="text.normal">ctl_update</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">ctl_update(self, http, data)</code></p></section><section class="method" documented="false" local-identifier="_ctl_http_send" id="Control._ctl_http_send"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control._ctl_http_send"><span class="text.normal">_ctl_http_send</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">_ctl_http_send(self, http, code, descr, objects)</code></p></section><section class="method" documented="false" local-identifier="ctl_http_processor" id="Control.ctl_http_processor"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control.ctl_http_processor"><span class="text.normal">ctl_http_processor</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">ctl_http_processor(self, invp)</code></p></section><section class="data" documented="false" local-identifier="ctl_commands" id="Control.ctl_commands"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control.ctl_commands"><span class="text.normal">ctl_commands</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">data</span></div></h1><pre class="text.syntax"><code class="source">ctl_commands = set([
	'status',
		'reload',
	'normalize',
	'disable',
	'enable',
		'restart',
	'stop',
	'start',
	'interrupt',
	'kill',
		'sleep',
	'hold',
	'release',
])
</code></pre></section><section class="method" documented="true" local-identifier="ctl_status" id="Control.ctl_status"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control.ctl_status"><span class="text.normal">ctl_status</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">ctl_status(self, serivce_id, context, config)</code></p><p><span class="text.normal">Return the status of the service process.</span></p></section><section class="method" documented="true" local-identifier="ctl_suspend" id="Control.ctl_suspend"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control.ctl_suspend"><span class="text.normal">ctl_suspend</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">ctl_suspend(self, service_id, context, config)</code></p><p><span class="text.normal">Send a stop signal to the service.</span></p></section><section class="method" documented="true" local-identifier="ctl_continue" id="Control.ctl_continue"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control.ctl_continue"><span class="text.normal">ctl_continue</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">ctl_continue(self, service_id, context, config)</code></p><p><span class="text.normal">Send a continue signal to the service.</span></p></section><section class="method" documented="true" local-identifier="ctl_enable" id="Control.ctl_enable"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control.ctl_enable"><span class="text.normal">ctl_enable</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">ctl_enable(self, service_id, context, config)</code></p><p><span class="text.normal">Enable the service, but do not start it.</span></p></section><section class="method" documented="true" local-identifier="ctl_disable" id="Control.ctl_disable"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control.ctl_disable"><span class="text.normal">ctl_disable</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">ctl_disable(self, service_id, context, config)</code></p><p><span class="text.normal">Disable the service, but do not change its status.</span></p></section><section class="method" documented="true" local-identifier="ctl_stop" id="Control.ctl_stop"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control.ctl_stop"><span class="text.normal">ctl_stop</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">ctl_stop(self, service_id, context, config)</code></p><p><span class="text.normal">Signal the service to stop and inhibit it from being restarted if enabled.</span></p></section><section class="method" documented="true" local-identifier="ctl_restart" id="Control.ctl_restart"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control.ctl_restart"><span class="text.normal">ctl_restart</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">ctl_restart(self, service_id, context, config)</code></p><p><span class="text.normal">Signal the service to stop (SIGTERM) and allow it to restart.</span></p></section><section class="method" documented="true" local-identifier="ctl_reload" id="Control.ctl_reload"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control.ctl_reload"><span class="text.normal">ctl_reload</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">ctl_reload(self, service_id, context, config)</code></p><p><span class="text.normal">Send a SIGHUP to the service or launch the update command.</span></p></section><section class="method" documented="true" local-identifier="ctl_start" id="Control.ctl_start"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control.ctl_start"><span class="text.normal">ctl_start</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">ctl_start(self, service_id, context, config)</code></p><p><span class="text.normal">Start the daemon unless it's already running; explicit starts ignore</span><span class="text.line-break"> </span><a class="project-local" href="../service#Configuration.actuates"><span class="factor-element">system.daemons.service.Configuration.actuates</span></a><span class="text.normal">.</span></p></section><section class="method" documented="true" local-identifier="ctl_normalize" id="Control.ctl_normalize"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control.ctl_normalize"><span class="text.normal">ctl_normalize</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">ctl_normalize(self, service_id, context, config)</code></p><p><span class="text.normal">Normalize the state of the service.</span></p></section><section class="method" documented="true" local-identifier="ctl_interrupt" id="Control.ctl_interrupt"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control.ctl_interrupt"><span class="text.normal">ctl_interrupt</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">ctl_interrupt(self, service_id, context, config)</code></p><p><span class="text.normal">Interrupt the service.</span></p></section><section class="method" documented="true" local-identifier="ctl_kill" id="Control.ctl_kill"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control.ctl_kill"><span class="text.normal">ctl_kill</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">ctl_kill(self, service_id, context, config)</code></p><p><span class="text.normal">Force the daemon process to exit.</span></p></section><section class="method" documented="true" local-identifier="ctl_void" id="Control.ctl_void"><h1><span class="prefix"></span><a class="section" href="#Control">Control</a><a class="title" href="#Control.ctl_void"><span class="text.normal">ctl_void</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">ctl_void(self, service_id, context, config)</code></p><p><span class="text.normal">Terminate the service and destroy its daemon directory.</span></p></section></section><section class="class" documented="true" local-identifier="Set" id="Set"><h1><span class="prefix"></span><a class="title" href="#Set"><span class="text.normal">Set</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">class</span></div></h1><div class="inheritance"><code class="type"><a class="remote" href="http://fault.io/python/kernel/core#Context"><span class="factor-element">kcore.Context</span></a></code></div><p><span class="text.normal">Set of </span><a class="factor-local" href="#Service"><span class="class">Service</span></a><span class="text.normal"> transactions managing the presence of the service process.</span></p><section class="method" documented="false" local-identifier="__init__" id="Set.__init__"><h1><span class="prefix"></span><a class="section" href="#Set">Set</a><a class="title" href="#Set.__init__"><span class="text.normal">__init__</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">__init__(self, route)</code></p></section><section class="method" documented="false" local-identifier="structure" id="Set.structure"><h1><span class="prefix"></span><a class="section" href="#Set">Set</a><a class="title" href="#Set.structure"><span class="text.normal">structure</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">structure(self)</code></p></section><section class="method" documented="false" local-identifier="xact_void" id="Set.xact_void"><h1><span class="prefix"></span><a class="section" href="#Set">Set</a><a class="title" href="#Set.xact_void"><span class="text.normal">xact_void</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">xact_void(self, final)</code></p></section><section class="method" documented="false" local-identifier="xact_exit" id="Set.xact_exit"><h1><span class="prefix"></span><a class="section" href="#Set">Set</a><a class="title" href="#Set.xact_exit"><span class="text.normal">xact_exit</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">xact_exit(self, xact)</code></p></section><section class="method" documented="true" local-identifier="actuate" id="Set.actuate"><h1><span class="prefix"></span><a class="section" href="#Set">Set</a><a class="title" href="#Set.actuate"><span class="text.normal">actuate</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">actuate(self)</code></p><p><span class="text.normal">Create the faultd context if it does not exist.</span></p></section><section class="method" documented="false" local-identifier="terminate" id="Set.terminate"><h1><span class="prefix"></span><a class="section" href="#Set">Set</a><a class="title" href="#Set.terminate"><span class="text.normal">terminate</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">terminate(self)</code></p></section><section class="method" documented="true" local-identifier="r_dispatch" id="Set.r_dispatch"><h1><span class="prefix"></span><a class="section" href="#Set">Set</a><a class="title" href="#Set.r_dispatch"><span class="text.normal">r_dispatch</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">r_dispatch(self, service)</code></p><p><span class="text.normal">Dispatch a new service.</span></p></section><section class="method" documented="true" local-identifier="r_boot" id="Set.r_boot"><h1><span class="prefix"></span><a class="section" href="#Set">Set</a><a class="title" href="#Set.r_boot"><span class="text.normal">r_boot</span></a><span class="element-status"></span><div class="factor-element-meta"><span class="abstract-type">method</span></div></h1><p><code class="signature">r_boot(self)</code></p><p><span class="text.normal">Dispatch all loaded service transactions.</span></p></section></section><h1 class="footing"></h1></main></body></html>