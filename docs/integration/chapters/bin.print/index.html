<html root="2"><head><title>system.chapters.bin.print</title><meta charset="utf-8"/><link as="style" rel="preload" href="../../.legacy-web/core.css"></link><link as="style" rel="preload" href="../../.legacy-web/factor.css"></link><link rel="stylesheet" href="../../.legacy-web/core.css"></link><link rel="stylesheet" href="../../.legacy-web/factor.css"></link></head><body><main><h1><span class="prefix"></span><div class="page-subject"><img class="icon" src="../../.factor-type-icon/if.fault.io/python-module.svg"></img><span class="subject-identifier">print</span><a href="http://if.fault.io/factors/python.module"><code class="type">python.module</code></a></div><div class="page-context"><a href="../"><img class="icon" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTYiIGhlaWdodD0iMjU2Ij48dGV4dCB4PSI0IiB5PSIwLjg4ZW0iIGZvbnQtc2l6ZT0iMjQ4Ij7wn5OaPC90ZXh0Pjwvc3ZnPg=="></img></a><span class="context-identifier">system.chapters</span></div></h1><section class="chapter"><p><span class="text.normal">Construct an archive for a Product's Internet Representation.</span></p><p><span class="text.normal">This provides the input used by </span><a class="project-local" href="../daemon"><span class="unknown">daemon</span></a><span class="text.normal"> web partitions.</span></p></section><section class="import" documented="false" local-identifier="sys" id="sys"><h1><span class="prefix"></span><a class="title" href="#sys"><span class="text.normal">sys</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="os" id="os"><h1><span class="prefix"></span><a class="title" href="#os"><span class="text.normal">os</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="traceback" id="traceback"><h1><span class="prefix"></span><a class="title" href="#traceback"><span class="text.normal">traceback</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="contextlib" id="contextlib"><h1><span class="prefix"></span><a class="title" href="#contextlib"><span class="text.normal">contextlib</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="json" id="json"><h1><span class="prefix"></span><a class="title" href="#json"><span class="text.normal">json</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="recognition" id="recognition"><h1><span class="prefix"></span><a class="title" href="#recognition"><span class="text.normal">recognition</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="tools" id="tools"><h1><span class="prefix"></span><a class="title" href="#tools"><span class="text.normal">tools</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="Cell" id="Cell"><h1><span class="prefix"></span><a class="title" href="#Cell"><span class="text.normal">Cell</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="files" id="files"><h1><span class="prefix"></span><a class="title" href="#files"><span class="text.normal">files</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="process" id="process"><h1><span class="prefix"></span><a class="title" href="#process"><span class="text.normal">process</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="lsf" id="lsf"><h1><span class="prefix"></span><a class="title" href="#lsf"><span class="text.normal">lsf</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="structure_chapter_text" id="structure_chapter_text"><h1><span class="prefix"></span><a class="title" href="#structure_chapter_text"><span class="text.normal">structure_chapter_text</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="structure_paragraph_element" id="structure_paragraph_element"><h1><span class="prefix"></span><a class="title" href="#structure_paragraph_element"><span class="text.normal">structure_paragraph_element</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="join" id="join"><h1><span class="prefix"></span><a class="title" href="#join"><span class="text.normal">join</span></a><span class="abstract-type">import</span></h1></section><section class="import" documented="false" local-identifier="html" id="html"><h1><span class="prefix"></span><a class="title" href="#html"><span class="text.normal">html</span></a><span class="abstract-type">import</span></h1></section><section class="data" documented="false" local-identifier="web_resources" id="web_resources"><h1><span class="prefix"></span><a class="title" href="#web_resources"><span class="text.normal">web_resources</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">web_resources = '.legacy-web'
</code></pre></section><section class="data" documented="false" local-identifier="core_style" id="core_style"><h1><span class="prefix"></span><a class="title" href="#core_style"><span class="text.normal">core_style</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">core_style = 'core.css'
</code></pre></section><section class="data" documented="false" local-identifier="project_index_style" id="project_index_style"><h1><span class="prefix"></span><a class="title" href="#project_index_style"><span class="text.normal">project_index_style</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">project_index_style = 'corpus.css'
</code></pre></section><section class="data" documented="false" local-identifier="factor_index_style" id="factor_index_style"><h1><span class="prefix"></span><a class="title" href="#factor_index_style"><span class="text.normal">factor_index_style</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">factor_index_style = 'project.css'
</code></pre></section><section class="data" documented="false" local-identifier="factor_style" id="factor_style"><h1><span class="prefix"></span><a class="title" href="#factor_style"><span class="text.normal">factor_style</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">factor_style = 'factor.css'
</code></pre></section><section class="data" documented="false" local-identifier="chapter_style" id="chapter_style"><h1><span class="prefix"></span><a class="title" href="#chapter_style"><span class="text.normal">chapter_style</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">chapter_style = 'chapter.css'
</code></pre></section><section class="data" documented="false" local-identifier="sources_style" id="sources_style"><h1><span class="prefix"></span><a class="title" href="#sources_style"><span class="text.normal">sources_style</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">sources_style = 'sources.css'
</code></pre></section><section class="function" documented="false" local-identifier="styles" id="styles"><h1><span class="prefix"></span><a class="title" href="#styles"><span class="text.normal">styles</span></a><span class="abstract-type">function</span></h1><p><code class="signature">styles(depth, type)</code></p></section><section class="function" documented="false" local-identifier="r_factor" id="r_factor"><h1><span class="prefix"></span><a class="title" href="#r_factor"><span class="text.normal">r_factor</span></a><span class="abstract-type">function</span></h1><p><code class="signature">r_factor(sx, prefixes, variants, req, ctx, pj, pjdir, fpath, type, requirements, sources)</code></p></section><section class="function" documented="false" local-identifier="r_project" id="r_project"><h1><span class="prefix"></span><a class="title" href="#r_project"><span class="text.normal">r_project</span></a><span class="abstract-type">function</span></h1><p><code class="signature">r_project(sx, prefixes, variants, req, ctx, pj, pjdir)</code></p></section><section class="function" documented="true" local-identifier="hrinit" id="hrinit"><h1><span class="prefix"></span><a class="title" href="#hrinit"><span class="text.normal">hrinit</span></a><span class="abstract-type">function</span></h1><p><code class="signature">hrinit(prefix, type, identifier)</code></p><p><span class="text.normal">Initialize the </span><code class="">.http-resource</code><span class="text.normal"> directory inside </span><a class="invalid" href="#path"><span class="unknown">path</span></a><span class="text.line-break"> </span><span class="text.normal">with a </span><code class="">meta.json</code><span class="text.normal"> formed from </span><a class="factor-local" href="#hrinit.Parameters.meta"><span class="parameter">meta</span></a><span class="text.normal">, </span><a class="factor-local" href="#hrinit.Parameters.type"><span class="parameter">type</span></a><span class="text.normal">, and </span><a class="factor-local" href="#hrinit.Parameters.identifier"><span class="parameter">identifier</span></a><span class="text.normal">.</span></p><p><span class="text.normal">Returns the directory path that was created.</span></p></section><section class="function" documented="false" local-identifier="r_corpus" id="r_corpus"><h1><span class="prefix"></span><a class="title" href="#r_corpus"><span class="text.normal">r_corpus</span></a><span class="abstract-type">function</span></h1><p><code class="signature">r_corpus(config, out, ctx, req, variants)</code></p></section><section class="function" documented="false" local-identifier="first_sentence" id="first_sentence"><h1><span class="prefix"></span><a class="title" href="#first_sentence"><span class="text.normal">first_sentence</span></a><span class="abstract-type">function</span></h1><p><code class="signature">first_sentence(p)</code></p></section><section class="function" documented="false" local-identifier="removeprefix" id="removeprefix"><h1><span class="prefix"></span><a class="title" href="#removeprefix"><span class="text.normal">removeprefix</span></a><span class="abstract-type">function</span></h1><p><code class="signature">removeprefix(prefixes, string)</code></p></section><section class="data" documented="false" local-identifier="required" id="required"><h1><span class="prefix"></span><a class="title" href="#required"><span class="text.normal">required</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">required = {
	'--corpus-root': ('field-replace', 'corpus-root'),
	'--corpus-title': ('field-replace', 'corpus-title'),
	'-P': ('set-add', 'prefixes'),
	'-I': ('set-add', 'variants'),
}
</code></pre></section><section class="data" documented="false" local-identifier="restricted" id="restricted"><h1><span class="prefix"></span><a class="title" href="#restricted"><span class="text.normal">restricted</span></a><span class="abstract-type">data</span></h1><pre class="text.syntax"><code class="source">restricted = {
	'-W': ('field-replace', False, 'web-defaults'),
	'-w': ('field-replace', True, 'web-defaults'),
}
</code></pre></section><section class="function" documented="true" local-identifier="extract_image_reference" id="extract_image_reference"><h1><span class="prefix"></span><a class="title" href="#extract_image_reference"><span class="text.normal">extract_image_reference</span></a><span class="abstract-type">function</span></h1><p><code class="signature">extract_image_reference(svg)</code></p><p><span class="text.normal">Extract the hyperlink from the first image element in an SVG image.</span><span class="text.line-break"> </span><span class="text.normal">The </span><code class="">href</code><span class="text.normal"> attribute must be directly adjacent to the </span><code class="">=</code><span class="text.normal"> character.</span></p><section class="unspecified" documented="true" local-identifier="Parameters" id="extract_image_reference.Parameters"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#extract_image_reference">extract_image_reference</a><a class="title" href="#extract_image_reference.Parameters"><span class="text.normal">Parameters</span></a><span class="abstract-type"></span></h1><dl class="text.mapping"><div id="extract_image_reference.Parameters.svg" class="parameter" documented="true"><dt><a class="dkn" href="#extract_image_reference.Parameters.svg"></a><span class="directory-key"><code class="parameter">svg</code></span></dt><dd><p><span class="text.normal">The SVG XML string.</span></p></dd></div></dl></section><section class="unspecified" documented="true" local-identifier="Returns" id="extract_image_reference.Returns"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#extract_image_reference">extract_image_reference</a><a class="title" href="#extract_image_reference.Returns"><span class="text.normal">Returns</span></a><span class="abstract-type"></span></h1><dl class="text.mapping"><div id="extract_image_reference.Returns.str" documented="true"><dt><a class="dkn" href="#extract_image_reference.Returns.str"></a><span class="directory-key"><a class="invalid" href="#str"><span class="unknown">str</span></a></span></dt><dd><p><span class="text.normal">The contents of the href attribute.</span></p></dd></div></dl></section><section class="unspecified" documented="true" local-identifier="Exceptions" id="extract_image_reference.Exceptions"><h1 class="integrate"><span class="prefix"></span><a class="section" href="#extract_image_reference">extract_image_reference</a><a class="title" href="#extract_image_reference.Exceptions"><span class="text.normal">Exceptions</span></a><span class="abstract-type"></span></h1><dl class="text.mapping"><div id="extract_image_reference.Exceptions.ValueError" documented="true"><dt><a class="dkn" href="#extract_image_reference.Exceptions.ValueError"></a><span class="directory-key"><a class="invalid" href="#ValueError"><span class="unknown">ValueError</span></a></span></dt><dd><p><span class="text.normal">No image tag with an href attribute.</span></p></dd></div></dl></section></section><section class="function" documented="true" local-identifier="transfer" id="transfer"><h1><span class="prefix"></span><a class="title" href="#transfer"><span class="text.normal">transfer</span></a><span class="abstract-type">function</span></h1><p><code class="signature">transfer(xfers)</code></p><p><span class="text.normal">Transfer the remote resources to their associated filesystem location.</span></p></section><section class="function" documented="true" local-identifier="icons" id="icons"><h1><span class="prefix"></span><a class="title" href="#icons"><span class="text.normal">icons</span></a><span class="abstract-type">function</span></h1><p><code class="signature">icons(out, ctx, types)</code></p><p><span class="text.normal">Print the icons of the factor types used by the projects in </span><a class="factor-local" href="#icons.Parameters.ctx"><span class="parameter">ctx</span></a><span class="text.normal">.</span><span class="text.line-break"> </span><span class="text.normal">The icons are placed stored in </span><code class="">.factor-type-icon/</code><span class="text.normal"> relative to </span><a class="factor-local" href="#icons.Parameters.out"><span class="parameter">out</span></a><span class="text.line-break"> </span><span class="text.normal">according to </span><a class="project-local" href="../html#icon_identity"><span class="factor-element">system.chapters.html.icon_identity</span></a><span class="text.normal">.</span></p></section><section class="function" documented="true" local-identifier="web" id="web"><h1><span class="prefix"></span><a class="title" href="#web"><span class="text.normal">web</span></a><span class="abstract-type">function</span></h1><p><code class="signature">web(argv)</code></p><p><span class="text.normal">Print factor representations for web publication.</span></p></section><section class="function" documented="false" local-identifier="main" id="main"><h1><span class="prefix"></span><a class="title" href="#main"><span class="text.normal">main</span></a><span class="abstract-type">function</span><code class="type"><a class="remote" href="http://fault.io/python/system/process#Exit"><span class="factor-element">process.Exit</span></a></code></h1><p><code class="signature">main(inv)</code></p></section><h1 class="footing"></h1></main></body></html>